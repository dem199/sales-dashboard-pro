import{R as y,r as Et,b as zr}from"./react-vendor-BdXwMMTX.js";function Pn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fi(e,t){if(e){if(typeof e=="string")return Pn(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}function Ii(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Fi(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}function We(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pn(e){let t=e,n=e;e.length===1&&(t=(o,u)=>e(o)-u,n=Ri(e));function r(o,u,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const s=l+c>>>1;n(o[s],u)<0?l=s+1:c=s}return l}function i(o,u,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const s=l+c>>>1;n(o[s],u)>0?c=s:l=s+1}return l}function a(o,u,l,c){l==null&&(l=0),c==null&&(c=o.length);const s=r(o,u,l,c-1);return s>l&&t(o[s-1],u)>-t(o[s],u)?s-1:s}return{left:r,center:a,right:i}}function Ri(e){return(t,n)=>We(e(t),n)}function Oi(e){return e===null?NaN:+e}function*Vi(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Pi=pn(We),Bi=Pi.right;pn(Oi).center;function tn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Yi extends Map{constructor(t,n=ji){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bn(this,t))}has(t){return super.has(Bn(this,t))}set(t,n){return super.set(Wi(this,t),n)}delete(t){return super.delete(Hi(this,t))}}function Bn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Wi({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hi({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function ji(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zi(e){return e}function Ki(e,...t){return qi(e,Array.from,zi,t)}function qi(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new Yi,l=r[o++];let c=-1;for(const s of a){const h=l(s,++c,a),f=u.get(h);f?f.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,i(h,o));return t(u)}(e,0)}function Gi(e,t){return Array.from(t,n=>e[n])}function Xi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n=We]=t;if(n.length===1||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const u=We(o[i],o[a]);if(u)return u}})):(n=e.map(n),r.sort((i,a)=>We(n[i],n[a]))),Gi(e,r)}return e.sort(n)}var nn=Math.sqrt(50),rn=Math.sqrt(10),an=Math.sqrt(2);function on(e,t,n){var r,i=-1,a,o,u;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(u=qr(e,t,n))===0||!isFinite(u))return[];if(u>0){let l=Math.round(e/u),c=Math.round(t/u);for(l*u<e&&++l,c*u>t&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)*u}else{u=-u;let l=Math.round(e*u),c=Math.round(t*u);for(l/u<e&&++l,c/u>t&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)/u}return r&&o.reverse(),o}function qr(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=nn?10:a>=rn?5:a>=an?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=nn?10:a>=rn?5:a>=an?2:1)}function un(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=nn?i*=10:a>=rn?i*=5:a>=an&&(i*=2),t<e?-i:i}function xt(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bt(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Gr(e,t,n=0,r=e.length-1,i=We){for(;r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,s=Math.log(l),h=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*h*(l-h)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(t-c*h/l+f)),v=Math.min(r,Math.floor(t+(l-c)*h/l+f));Gr(e,t,d,v,i)}const a=e[t];let o=n,u=r;for(Ge(e,n,t),i(e[r],a)>0&&Ge(e,n,r);o<u;){for(Ge(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Ge(e,n,u):(++u,Ge(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Ge(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Zi(e,t,n){if(e=Float64Array.from(Vi(e)),!!(r=e.length)){if((t=+t)<=0||r<2)return bt(e);if(t>=1)return xt(e);var r,i=(r-1)*t,a=Math.floor(i),o=xt(Gr(e,a).subarray(0,a+1)),u=bt(e.subarray(a+1));return o+(u-o)*(i-a)}}function Qi(e,t){return Zi(e,.5)}function yn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function he(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Mt(e){var t=y.useRef(e),n=y.useRef();return t.current=e,n.current||(n.current=function(){return t.current}),n.current}const lt=typeof window<"u"?y.useLayoutEffect:y.useEffect;function Ji(e,t){return(t==null?void 0:t.seriesId)===e.id?"focused":"none"}function ea(e,t){var n;return e===t?"focused":(n=e.tooltipGroup)!=null&&n.some(function(r){r.seriesId===(t==null?void 0:t.seriesId)&&(r.index,t==null||t.index)})?"groupFocused":"none"}var Yn=["area","line","rectangle","circle"];function ln(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e=ta(e,t);for(var n=0;n<Yn.length;n++){var r=Yn[n];e[r]&&t[r]&&(e[r]=ln(e[r],t))}return e}function ze(e,t){return"translate3d("+Math.round(e)+"px, "+Math.round(t)+"px, 0)"}function ta(e,t){return z({},e,{stroke:e.stroke||e.color||t.stroke||t.color,fill:e.fill||e.color||t.fill||t.color})}function Wn(e){return typeof e=="number"&&!Number.isNaN(e)}var Xr=Et.createContext(null);function na(e){var t=e.value,n=e.children;return Et.createElement(Xr.Provider,{value:t,children:n})}function Me(){return Et.useContext(Xr)()}function ra(e){var t=e.primaryAxis,n=e.secondaryAxis,r=e.series,i=Me(),a=i.getSeriesStatusStyle,o=i.getDatumStatusStyle,u=i.focusedDatumState,l=i.gridDimensions,c=u[0],s=t.isVertical?n:t,h=t.isVertical?t:n;return y.createElement("g",{style:{transform:ze(l.left,l.top)}},r.map(function(f,d){var v=a(f,c);return y.createElement("g",{key:"lines-"+d},f.datums.map(function(m,p){var T,w,x,C,k=o(m,c),b=Hn((T=oa(m,t,n))!=null?T:NaN,(w=ia(m,t,n))!=null?w:NaN,s),A=b[0],R=b[1],B=Hn((x=ua(m,t,n))!=null?x:NaN,(C=aa(m,t,n))!=null?C:NaN,h),N=B[0],M=B[1];return y.createElement("rect",{ref:function(D){m.element=D},key:p,x:A,y:N,width:R,height:M,style:z({strokeWidth:0},v,v.rectangle,k,k.rectangle)})}))}))}function ia(e,t,n){return t.isVertical?Qr(e,n):xn(e,t,n)}function aa(e,t,n){return t.isVertical?xn(e,t,n):Qr(e,n)}function Zr(e,t){return Math.max(t.primaryBandScale.bandwidth(),1)}function xn(e,t,n){if(t.axisFamily==="band"){var r,i,a=n.stacked?t.scale.bandwidth():t.seriesBandScale.bandwidth();return Math.min(Math.max(a,(r=t.minBandSize)!=null?r:1),(i=t.maxBandSize)!=null?i:99999999)}return Math.max(n.stacked?t.primaryBandScale.bandwidth():t.seriesBandScale.bandwidth(),1)}function Qr(e,t){var n=[Jr(e,t),ei(e,t)];return Math.abs(n[1]-n[0])}function oa(e,t,n){return t.isVertical?Jr(e,n):bn(e,t,n)}function ua(e,t,n){return t.isVertical?bn(e,t,n):ei(e,n)}function bn(e,t,n){var r,i=(r=t.scale(e.primaryValue))!=null?r:NaN;if(t.axisFamily!=="band"&&(i-=Zr(e,t)/2),!n.stacked){var a;i=i+((a=t.seriesBandScale(e.seriesIndex))!=null?a:NaN)}return i}function Jr(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?e.secondaryValue:0))!=null?n:NaN}function ei(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?0:e.secondaryValue))!=null?n:NaN}function Hn(e,t,n){var r=n.scale.range();n.isVertical&&r.reverse();var i=function(c){return Math.max(r[0],Math.min(c,r[1]))},a=i(e),o=i(e+t),u=o-a;return[a,u]}const sn=Math.PI,cn=2*sn,Ce=1e-6,la=cn-Ce;function fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mn(){return new fn}fn.prototype=Mn.prototype={constructor:fn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,l=r-t,c=a-e,s=o-t,h=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>Ce)if(!(Math.abs(s*u-l*c)>Ce)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-a,d=r-o,v=u*u+l*l,m=f*f+d*d,p=Math.sqrt(v),T=Math.sqrt(h),w=i*Math.tan((sn-Math.acos((v+h-m)/(2*p*T)))/2),x=w/T,C=w/p;Math.abs(x-1)>Ce&&(this._+="L"+(e+x*c)+","+(t+x*s)),this._+="A"+i+","+i+",0,0,"+ +(s*f>c*d)+","+(this._x1=e+C*u)+","+(this._y1=t+C*l)}},arc:function(e,t,n,r,i,a){e=+e,t=+t,n=+n,a=!!a;var o=n*Math.cos(r),u=n*Math.sin(r),l=e+o,c=t+u,s=1^a,h=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ce||Math.abs(this._y1-c)>Ce)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%cn+cn),h>la?this._+="A"+n+","+n+",0,1,"+s+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=l)+","+(this._y1=c):h>Ce&&(this._+="A"+n+","+n+",0,"+ +(h>=sn)+","+s+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function ie(e){return function(){return e}}function wn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ti(e){this._context=e}ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ni(e){return new ti(e)}function ri(e){return e[0]}function ii(e){return e[1]}function _n(e,t){var n=ie(!0),r=null,i=ni,a=null;e=typeof e=="function"?e:e===void 0?ri:ie(e),t=typeof t=="function"?t:t===void 0?ii:ie(t);function o(u){var l,c=(u=wn(u)).length,s,h=!1,f;for(r==null&&(a=i(f=Mn())),l=0;l<=c;++l)!(l<c&&n(s=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(s,l,u),+t(s,l,u));if(f)return a=null,f+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:ie(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:ie(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ie(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function sa(e,t,n){var r=null,i=ie(!0),a=null,o=ni,u=null;e=typeof e=="function"?e:e===void 0?ri:ie(+e),t=typeof t=="function"?t:ie(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ii:ie(+n);function l(s){var h,f,d,v=(s=wn(s)).length,m,p=!1,T,w=new Array(v),x=new Array(v);for(a==null&&(u=o(T=Mn())),h=0;h<=v;++h){if(!(h<v&&i(m=s[h],h,s))===p)if(p=!p)f=h,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),d=h-1;d>=f;--d)u.point(w[d],x[d]);u.lineEnd(),u.areaEnd()}p&&(w[h]=+e(m,h,s),x[h]=+t(m,h,s),u.point(r?+r(m,h,s):w[h],n?+n(m,h,s):x[h]))}if(T)return u=null,T+""||null}function c(){return _n().defined(i).curve(o).context(a)}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:ie(+s),r=null,l):e},l.x0=function(s){return arguments.length?(e=typeof s=="function"?s:ie(+s),l):e},l.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:ie(+s),l):r},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:ie(+s),n=null,l):t},l.y0=function(s){return arguments.length?(t=typeof s=="function"?s:ie(+s),l):t},l.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:ie(+s),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(s){return arguments.length?(i=typeof s=="function"?s:ie(!!s),l):i},l.curve=function(s){return arguments.length?(o=s,a!=null&&(u=o(a)),l):o},l.context=function(s){return arguments.length?(s==null?a=u=null:u=o(a=s),l):a},l}function hn(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,u=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function jn(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ca(e,t){return e[t]}function fa(e){const t=[];return t.key=e,t}function ha(){var e=ie([]),t=jn,n=hn,r=ca;function i(a){var o=Array.from(e.apply(this,arguments),fa),u,l=o.length,c=-1,s;for(const h of a)for(u=0,++c;u<l;++u)(o[u][c]=[0,+r(h,o[u].key,c,a)]).data=h;for(u=0,s=wn(t(o));u<l;++u)o[s[u]].index=u;return n(o,s),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ie(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ie(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?jn:typeof a=="function"?a:ie(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??hn,i):n},i}function zn(e){return e<0?-1:1}function Kn(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(zn(a)+zn(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function qn(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bt(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function wt(e){this._context=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bt(this,this._t0,qn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bt(this,qn(this,r=Kn(this,t,n)),r);break;default:Bt(this,this._t0,r=Kn(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}};Object.create(wt.prototype).point=function(e,t){wt.prototype.point.call(this,t,e)};var da=function(t){return new wt(t)};function ga(e){var t,n=e.primaryAxis,r=e.secondaryAxis,i=e.series,a=Me(),o=a.getSeriesStatusStyle,u=a.getDatumStatusStyle,l=a.focusedDatumState,c=a.gridDimensions,s=(t=r.curve)!=null?t:da,h=l[0];return y.createElement("g",{style:{transform:ze(c.left,c.top)}},i.map(function(f,d){var v,m,p=o(f,h),T=null;if(r.elementType==="area"){var w=function($){return _t($,n)},x=function($){return Gn(pa($,r),r)},C=function($){return Gn(St($,r),r)},k=sa(w,x,C).curve(s);k.defined(function(M){return[w(M),x(M),C(M)].every(Wn)}),T=k(f.datums)}var b=function($){return _t($,n)},A=function($){return St($,r)},R=_n(b,A).curve(s);R.defined(function(M){return[b(M),A(M)].every(Wn)});var B=(r.elementType==="area"||r.elementType==="line")&&(v=R(f.datums))!=null?v:void 0,N=(m=r.showDatumElements)!=null?m:r.elementType==="bubble"||"onFocus";return y.createElement("g",{key:"lines-"+d},T?y.createElement("path",{d:T,style:z({strokeWidth:2,opacity:.5},p,p.area)}):null,B?y.createElement("path",{d:B,style:z({strokeWidth:2},p,p.line,{fill:"none"})}):null,f.datums.map(function(M,$){var D,I=u(M,h),j=N==="onFocus"?M===h?4:0:2,P=N==="onFocus"?M===h:(D=r.showDatumElements)!=null?D:r.elementType==="bubble";return y.createElement("circle",{key:$,ref:function(E){M.element=E},cx:ma(M,n,r)||0,cy:va(M,n,r)||0,style:z({r:j,transition:"all .3s ease-out"},p,p.circle,I,I.circle,P?{}:{opacity:0})})}))}))}function ma(e,t,n){return t.isVertical?St(e,n):_t(e,t)}function va(e,t,n){return t.isVertical?_t(e,t):St(e,n)}function _t(e,t){var n,r=(n=t.scale(e.primaryValue))!=null?n:NaN;return t.axisFamily==="band"&&(r+=t.scale.bandwidth()/2),r}function St(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}function pa(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(0))!=null?n:NaN}function Gn(e,t){var n=t.scale.range();return t.isVertical&&n.reverse(),Math.max(n[0],Math.min(e,n[1]))}function Ke(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Xn=Symbol("implicit");function ai(){var e=new Map,t=[],n=[],r=Xn;function i(a){var o=a+"",u=e.get(o);if(!u){if(r!==Xn)return r;e.set(o,u=t.push(a))}return n[(u-1)%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Map;for(const o of a){const u=o+"";e.has(u)||e.set(u,t.push(o))}return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ai(t,n).unknown(r)},Ke.apply(i,arguments),i}function At(){var e=ai().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,u=!1,l=0,c=0,s=.5;delete e.unknown;function h(){var f=t().length,d=i<r,v=d?i:r,m=d?r:i;a=(m-v)/Math.max(1,f-l+c*2),u&&(a=Math.floor(a)),v+=(m-v-a*(f-l))*s,o=a*(1-l),u&&(v=Math.round(v),o=Math.round(o));var p=yn(f).map(function(T){return v+a*T});return n(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,u=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(u=!!f,h()):u},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},e.align=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),h()):s},e.copy=function(){return At(t(),[r,i]).round(u).paddingInner(l).paddingOuter(c).align(s)},Ke.apply(h(),arguments)}function Sn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function st(){}var at=.7,Tt=1/at,He="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ya=/^#([0-9a-f]{3,8})$/,xa=new RegExp("^rgb\\("+[He,He,He]+"\\)$"),ba=new RegExp("^rgb\\("+[be,be,be]+"\\)$"),Ma=new RegExp("^rgba\\("+[He,He,He,ot]+"\\)$"),wa=new RegExp("^rgba\\("+[be,be,be,ot]+"\\)$"),_a=new RegExp("^hsl\\("+[ot,be,be]+"\\)$"),Sa=new RegExp("^hsla\\("+[ot,be,be,ot]+"\\)$"),Zn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(st,ut,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Qn,formatHex:Qn,formatHsl:Ta,formatRgb:Jn,toString:Jn});function Qn(){return this.rgb().formatHex()}function Ta(){return ui(this).formatHsl()}function Jn(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ya.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?er(t):n===3?new de(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xa.exec(e))?new de(t[1],t[2],t[3],1):(t=ba.exec(e))?new de(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ma.exec(e))?mt(t[1],t[2],t[3],t[4]):(t=wa.exec(e))?mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_a.exec(e))?rr(t[1],t[2]/100,t[3]/100,1):(t=Sa.exec(e))?rr(t[1],t[2]/100,t[3]/100,t[4]):Zn.hasOwnProperty(e)?er(Zn[e]):e==="transparent"?new de(NaN,NaN,NaN,0):null}function er(e){return new de(e>>16&255,e>>8&255,e&255,1)}function mt(e,t,n,r){return r<=0&&(e=t=n=NaN),new de(e,t,n,r)}function ka(e){return e instanceof st||(e=ut(e)),e?(e=e.rgb(),new de(e.r,e.g,e.b,e.opacity)):new de}function dn(e,t,n,r){return arguments.length===1?ka(e):new de(e,t,n,r??1)}function de(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Sn(de,dn,oi(st,{brighter:function(e){return e=e==null?Tt:Math.pow(Tt,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?at:Math.pow(at,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tr,formatHex:tr,formatRgb:nr,toString:nr}));function tr(){return"#"+Yt(this.r)+Yt(this.g)+Yt(this.b)}function nr(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Yt(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function rr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function ui(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof st||(e=ut(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(t===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-t)/u+2:o=(t-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=l>0&&l<1?0:o,new xe(o,u,l,e.opacity)}function Ca(e,t,n,r){return arguments.length===1?ui(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sn(xe,Ca,oi(st,{brighter:function(e){return e=e==null?Tt:Math.pow(Tt,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?at:Math.pow(at,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new de(Wt(e>=240?e-240:e+120,i,r),Wt(e,i,r),Wt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Wt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tn=e=>()=>e;function Da(e,t){return function(n){return e+n*t}}function Na(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $a(e){return(e=+e)==1?li:function(t,n){return n-t?Na(t,n,e):Tn(isNaN(t)?n:t)}}function li(e,t){var n=t-e;return n?Da(e,n):Tn(isNaN(e)?t:e)}const ir=function e(t){var n=$a(t);function r(i,a){var o=n((i=dn(i)).r,(a=dn(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),c=li(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=u(s),i.b=l(s),i.opacity=c(s),i+""}}return r.gamma=e,r}(1);function Ea(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Aa(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ua(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=kn(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function La(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fa(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=kn(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ht=new RegExp(gn.source,"g");function Ia(e){return function(){return e}}function Ra(e){return function(t){return e(t)+""}}function Oa(e,t){var n=gn.lastIndex=Ht.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(e=e+"",t=t+"";(r=gn.exec(e))&&(i=Ht.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:kt(r,i)})),n=Ht.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?Ra(l[0].x):Ia(t):(t=l.length,function(c){for(var s=0,h;s<t;++s)u[(h=l[s]).i]=h.x(c);return u.join("")})}function kn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tn(t):(n==="number"?kt:n==="string"?(r=ut(t))?(t=r,ir):Oa:t instanceof ut?ir:t instanceof Date?La:Aa(t)?Ea:Array.isArray(t)?Ua:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fa:kt)(e,t)}function Va(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pa(e){return function(){return e}}function Ba(e){return+e}var ar=[0,1];function Pe(e){return e}function mn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Pa(isNaN(t)?NaN:.5)}function Ya(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wa(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=mn(i,r),a=n(o,a)):(r=mn(r,i),a=n(a,o)),function(u){return a(r(u))}}function Ha(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=mn(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var l=Bi(e,u,1,r)-1;return a[l](i[l](u))}}function Cn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function si(){var e=ar,t=ar,n=kn,r,i,a,o=Pe,u,l,c;function s(){var f=Math.min(e.length,t.length);return o!==Pe&&(o=Ya(e[0],e[f-1])),u=f>2?Ha:Wa,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=u(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(i((c||(c=u(t,e.map(r),kt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Ba),s()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),s()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=Va,s()},h.clamp=function(f){return arguments.length?(o=f?!0:Pe,s()):o!==Pe},h.interpolate=function(f){return arguments.length?(n=f,s()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,s()}}function ci(){return si()(Pe,Pe)}function ja(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ct(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function je(e){return e=Ct(Math.abs(e)),e?e[1]:NaN}function za(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Ka(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dt(e){if(!(t=qa.exec(e)))throw new Error("invalid format: "+e);var t;return new Dn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dt.prototype=Dn.prototype;function Dn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Dn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ga(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var fi;function Xa(e,t){var n=Ct(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(fi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ct(e,Math.max(0,t+a-1))[0]}function or(e,t){var n=Ct(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ur={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ja,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>or(e*100,t),r:or,s:Xa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lr(e){return e}var sr=Array.prototype.map,cr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Za(e){var t=e.grouping===void 0||e.thousands===void 0?lr:za(sr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lr:Ka(sr.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=Dt(h);var f=h.fill,d=h.align,v=h.sign,m=h.symbol,p=h.zero,T=h.width,w=h.comma,x=h.precision,C=h.trim,k=h.type;k==="n"?(w=!0,k="g"):ur[k]||(x===void 0&&(x=12),C=!0,k="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var b=m==="$"?n:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=m==="$"?r:/[%p]/.test(k)?o:"",R=ur[k],B=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(M){var $=b,D=A,I,j,P;if(k==="c")D=R(M)+D,M="";else{M=+M;var S=M<0||1/M<0;if(M=isNaN(M)?l:R(Math.abs(M),x),C&&(M=Ga(M)),S&&+M==0&&v!=="+"&&(S=!1),$=(S?v==="("?v:u:v==="-"||v==="("?"":v)+$,D=(k==="s"?cr[8+fi/3]:"")+D+(S&&v==="("?")":""),B){for(I=-1,j=M.length;++I<j;)if(P=M.charCodeAt(I),48>P||P>57){D=(P===46?i+M.slice(I+1):M.slice(I))+D,M=M.slice(0,I);break}}}w&&!p&&(M=t(M,1/0));var E=$.length+M.length+D.length,L=E<T?new Array(T-E+1).join(f):"";switch(w&&p&&(M=t(L+M,L.length?T-D.length:1/0),L=""),d){case"<":M=$+M+D+L;break;case"=":M=$+L+M+D;break;case"^":M=L.slice(0,E=L.length>>1)+$+M+D+L.slice(E);break;default:M=L+$+M+D;break}return a(M)}return N.toString=function(){return h+""},N}function s(h,f){var d=c((h=Dt(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(je(f)/3)))*3,m=Math.pow(10,-v),p=cr[8+v/3];return function(T){return d(m*T)+p}}return{format:c,formatPrefix:s}}var vt,Nn,hi;Qa({thousands:",",grouping:[3],currency:["$",""]});function Qa(e){return vt=Za(e),Nn=vt.format,hi=vt.formatPrefix,vt}function Ja(e){return Math.max(0,-je(Math.abs(e)))}function eo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(t)/3)))*3-je(Math.abs(e)))}function to(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,je(t)-je(e))+1}function no(e,t,n,r){var i=un(e,t,n),a;switch(r=Dt(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=eo(i,o))&&(r.precision=a),hi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=to(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ja(i))&&(r.precision=a-(r.type==="%")*2);break}}return Nn(r)}function ro(e){var t=e.domain;return e.ticks=function(n){var r=t();return on(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return no(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],l,c,s=10;for(u<o&&(c=o,o=u,u=c,c=i,i=a,a=c);s-- >0;){if(c=qr(o,u,n),c===l)return r[i]=o,r[a]=u,t(r);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;l=c}return e},e}function di(){var e=ci();return e.copy=function(){return Cn(e,di())},Ke.apply(e,arguments),ro(e)}function gi(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function fr(e){return Math.log(e)}function hr(e){return Math.exp(e)}function io(e){return-Math.log(-e)}function ao(e){return-Math.exp(-e)}function oo(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uo(e){return e===10?oo:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function lo(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function dr(e){return function(t){return-e(-t)}}function so(e){var t=e(fr,hr),n=t.domain,r=10,i,a;function o(){return i=lo(r),a=uo(r),n()[0]<0?(i=dr(i),a=dr(a),e(io,ao)):e(fr,hr),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=function(u){var l=n(),c=l[0],s=l[l.length-1],h;(h=s<c)&&(f=c,c=s,s=f);var f=i(c),d=i(s),v,m,p,T=u==null?10:+u,w=[];if(!(r%1)&&d-f<T){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(m=1,v=a(f);m<r;++m)if(p=v*m,!(p<c)){if(p>s)break;w.push(p)}}else for(;f<=d;++f)for(m=r-1,v=a(f);m>=1;--m)if(p=v*m,!(p<c)){if(p>s)break;w.push(p)}w.length*2<T&&(w=on(c,s,T))}else w=on(f,d,Math.min(d-f,T)).map(a);return h?w.reverse():w},t.tickFormat=function(u,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=Nn(l)),u===1/0)return l;u==null&&(u=10);var c=Math.max(1,r*u/t.ticks().length);return function(s){var h=s/a(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=c?l(s):""}},t.nice=function(){return n(gi(n(),{floor:function(u){return a(Math.floor(i(u)))},ceil:function(u){return a(Math.ceil(i(u)))}}))},t}function mi(){var e=so(si()).domain([1,10]);return e.copy=function(){return Cn(e,mi()).base(e.base())},Ke.apply(e,arguments),e}var jt=new Date,zt=new Date;function oe(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},i.round=function(a){var o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=function(a,o){return t(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,u){var l=[],c;if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;do l.push(c=new Date(+a)),t(a,u),e(a);while(c<a&&a<o);return l},i.filter=function(a){return oe(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););})},n&&(i.count=function(a,o){return jt.setTime(+a),zt.setTime(+o),e(jt),e(zt),Math.floor(n(jt,zt))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var Nt=oe(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Nt.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?oe(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Nt};Nt.range;const we=1e3,ge=we*60,_e=ge*60,$e=_e*24,$n=$e*7,gr=$e*30,Kt=$e*365;var Se=oe(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*we)},function(e,t){return(t-e)/we},function(e){return e.getUTCSeconds()});Se.range;var Ut=oe(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*we)},function(e,t){e.setTime(+e+t*ge)},function(e,t){return(t-e)/ge},function(e){return e.getMinutes()});Ut.range;var Lt=oe(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*we-e.getMinutes()*ge)},function(e,t){e.setTime(+e+t*_e)},function(e,t){return(t-e)/_e},function(e){return e.getHours()});Lt.range;var Te=oe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ge)/$e,e=>e.getDate()-1);Te.range;function Ue(e){return oe(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ge)/$n})}var ct=Ue(0),Ee=Ue(1),co=Ue(2),fo=Ue(3),ve=Ue(4),ho=Ue(5),go=Ue(6);ct.range;Ee.range;co.range;fo.range;ve.range;ho.range;go.range;var Ft=oe(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});Ft.range;var ce=oe(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ce.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oe(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};ce.range;var It=oe(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*ge)},function(e,t){return(t-e)/ge},function(e){return e.getUTCMinutes()});It.range;var Rt=oe(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*_e)},function(e,t){return(t-e)/_e},function(e){return e.getUTCHours()});Rt.range;var ke=oe(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/$e},function(e){return e.getUTCDate()-1});ke.range;function Le(e){return oe(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/$n})}var ft=Le(0),Ae=Le(1),mo=Le(2),vo=Le(3),pe=Le(4),po=Le(5),yo=Le(6);ft.range;Ae.range;mo.range;vo.range;pe.range;po.range;yo.range;var Ot=oe(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});Ot.range;var fe=oe(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});fe.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oe(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};fe.range;function vi(e,t,n,r,i,a){const o=[[Se,1,we],[Se,5,5*we],[Se,15,15*we],[Se,30,30*we],[a,1,ge],[a,5,5*ge],[a,15,15*ge],[a,30,30*ge],[i,1,_e],[i,3,3*_e],[i,6,6*_e],[i,12,12*_e],[r,1,$e],[r,2,2*$e],[n,1,$n],[t,1,gr],[t,3,3*gr],[e,1,Kt]];function u(c,s,h){const f=s<c;f&&([c,s]=[s,c]);const d=h&&typeof h.range=="function"?h:l(c,s,h),v=d?d.range(c,+s+1):[];return f?v.reverse():v}function l(c,s,h){const f=Math.abs(s-c)/h,d=pn(([,,p])=>p).right(o,f);if(d===o.length)return e.every(un(c/Kt,s/Kt,h));if(d===0)return Nt.every(Math.max(un(c,s,h),1));const[v,m]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return v.every(m)}return[u,l]}const[xo,bo]=vi(fe,Ot,ft,ke,Rt,It),[Mo,wo]=vi(ce,Ft,ct,Te,Lt,Ut);function qt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _o(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,c=Ze(i),s=Qe(i),h=Ze(a),f=Qe(a),d=Ze(o),v=Qe(o),m=Ze(u),p=Qe(u),T=Ze(l),w=Qe(l),x={a:S,A:E,b:L,B:O,c:null,d:br,e:br,f:zo,g:nu,G:iu,H:Wo,I:Ho,j:jo,L:pi,m:Ko,M:qo,p:G,q:H,Q:_r,s:Sr,S:Go,u:Xo,U:Zo,V:Qo,w:Jo,W:eu,x:null,X:null,y:tu,Y:ru,Z:au,"%":wr},C={a:W,A:Y,b:X,B:re,c:null,d:Mr,e:Mr,f:su,g:xu,G:Mu,H:ou,I:uu,j:lu,L:xi,m:cu,M:fu,p:ae,q:K,Q:_r,s:Sr,S:hu,u:du,U:gu,V:mu,w:vu,W:pu,x:null,X:null,y:yu,Y:bu,Z:wu,"%":wr},k={a:N,A:M,b:$,B:D,c:I,d:yr,e:yr,f:Vo,g:pr,G:vr,H:xr,I:xr,j:Fo,L:Oo,m:Lo,M:Io,p:B,q:Uo,Q:Bo,s:Yo,S:Ro,u:Do,U:No,V:$o,w:Co,W:Eo,x:j,X:P,y:pr,Y:vr,Z:Ao,"%":Po};x.x=b(n,x),x.X=b(r,x),x.c=b(t,x),C.x=b(n,C),C.X=b(r,C),C.c=b(t,C);function b(_,U){return function(F){var g=[],q=-1,V=0,Q=_.length,Z,te,se;for(F instanceof Date||(F=new Date(+F));++q<Q;)_.charCodeAt(q)===37&&(g.push(_.slice(V,q)),(te=mr[Z=_.charAt(++q)])!=null?Z=_.charAt(++q):te=Z==="e"?" ":"0",(se=U[Z])&&(Z=se(F,te)),g.push(Z),V=q+1);return g.push(_.slice(V,q)),g.join("")}}function A(_,U){return function(F){var g=Xe(1900,void 0,1),q=R(g,_,F+="",0),V,Q;if(q!=F.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(g.s*1e3+("L"in g?g.L:0));if(U&&!("Z"in g)&&(g.Z=0),"p"in g&&(g.H=g.H%12+g.p*12),g.m===void 0&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(V=Gt(Xe(g.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?Ae.ceil(V):Ae(V),V=ke.offset(V,(g.V-1)*7),g.y=V.getUTCFullYear(),g.m=V.getUTCMonth(),g.d=V.getUTCDate()+(g.w+6)%7):(V=qt(Xe(g.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?Ee.ceil(V):Ee(V),V=Te.offset(V,(g.V-1)*7),g.y=V.getFullYear(),g.m=V.getMonth(),g.d=V.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),Q="Z"in g?Gt(Xe(g.y,0,1)).getUTCDay():qt(Xe(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+g.W*7-(Q+5)%7:g.w+g.U*7-(Q+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Gt(g)):qt(g)}}function R(_,U,F,g){for(var q=0,V=U.length,Q=F.length,Z,te;q<V;){if(g>=Q)return-1;if(Z=U.charCodeAt(q++),Z===37){if(Z=U.charAt(q++),te=k[Z in mr?U.charAt(q++):Z],!te||(g=te(_,F,g))<0)return-1}else if(Z!=F.charCodeAt(g++))return-1}return g}function B(_,U,F){var g=c.exec(U.slice(F));return g?(_.p=s.get(g[0].toLowerCase()),F+g[0].length):-1}function N(_,U,F){var g=d.exec(U.slice(F));return g?(_.w=v.get(g[0].toLowerCase()),F+g[0].length):-1}function M(_,U,F){var g=h.exec(U.slice(F));return g?(_.w=f.get(g[0].toLowerCase()),F+g[0].length):-1}function $(_,U,F){var g=T.exec(U.slice(F));return g?(_.m=w.get(g[0].toLowerCase()),F+g[0].length):-1}function D(_,U,F){var g=m.exec(U.slice(F));return g?(_.m=p.get(g[0].toLowerCase()),F+g[0].length):-1}function I(_,U,F){return R(_,t,U,F)}function j(_,U,F){return R(_,n,U,F)}function P(_,U,F){return R(_,r,U,F)}function S(_){return o[_.getDay()]}function E(_){return a[_.getDay()]}function L(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function G(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return o[_.getUTCDay()]}function Y(_){return a[_.getUTCDay()]}function X(_){return l[_.getUTCMonth()]}function re(_){return u[_.getUTCMonth()]}function ae(_){return i[+(_.getUTCHours()>=12)]}function K(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=b(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=A(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=b(_+="",C);return U.toString=function(){return _},U},utcParse:function(_){var U=A(_+="",!0);return U.toString=function(){return _},U}}}var mr={"-":"",_:" ",0:"0"},ue=/^\s*\d+/,So=/^%/,To=/[\\^$*+?|[\]().{}]/g;function J(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ko(e){return e.replace(To,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map(ko).join("|")+")","i")}function Qe(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Co(e,t,n){var r=ue.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Do(e,t,n){var r=ue.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function No(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $o(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Eo(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vr(e,t,n){var r=ue.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pr(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ao(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uo(e,t,n){var r=ue.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Lo(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yr(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fo(e,t,n){var r=ue.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Io(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ro(e,t,n){var r=ue.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Oo(e,t,n){var r=ue.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vo(e,t,n){var r=ue.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Po(e,t,n){var r=So.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Bo(e,t,n){var r=ue.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yo(e,t,n){var r=ue.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function br(e,t){return J(e.getDate(),t,2)}function Wo(e,t){return J(e.getHours(),t,2)}function Ho(e,t){return J(e.getHours()%12||12,t,2)}function jo(e,t){return J(1+Te.count(ce(e),e),t,3)}function pi(e,t){return J(e.getMilliseconds(),t,3)}function zo(e,t){return pi(e,t)+"000"}function Ko(e,t){return J(e.getMonth()+1,t,2)}function qo(e,t){return J(e.getMinutes(),t,2)}function Go(e,t){return J(e.getSeconds(),t,2)}function Xo(e){var t=e.getDay();return t===0?7:t}function Zo(e,t){return J(ct.count(ce(e)-1,e),t,2)}function yi(e){var t=e.getDay();return t>=4||t===0?ve(e):ve.ceil(e)}function Qo(e,t){return e=yi(e),J(ve.count(ce(e),e)+(ce(e).getDay()===4),t,2)}function Jo(e){return e.getDay()}function eu(e,t){return J(Ee.count(ce(e)-1,e),t,2)}function tu(e,t){return J(e.getFullYear()%100,t,2)}function nu(e,t){return e=yi(e),J(e.getFullYear()%100,t,2)}function ru(e,t){return J(e.getFullYear()%1e4,t,4)}function iu(e,t){var n=e.getDay();return e=n>=4||n===0?ve(e):ve.ceil(e),J(e.getFullYear()%1e4,t,4)}function au(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+J(t/60|0,"0",2)+J(t%60,"0",2)}function Mr(e,t){return J(e.getUTCDate(),t,2)}function ou(e,t){return J(e.getUTCHours(),t,2)}function uu(e,t){return J(e.getUTCHours()%12||12,t,2)}function lu(e,t){return J(1+ke.count(fe(e),e),t,3)}function xi(e,t){return J(e.getUTCMilliseconds(),t,3)}function su(e,t){return xi(e,t)+"000"}function cu(e,t){return J(e.getUTCMonth()+1,t,2)}function fu(e,t){return J(e.getUTCMinutes(),t,2)}function hu(e,t){return J(e.getUTCSeconds(),t,2)}function du(e){var t=e.getUTCDay();return t===0?7:t}function gu(e,t){return J(ft.count(fe(e)-1,e),t,2)}function bi(e){var t=e.getUTCDay();return t>=4||t===0?pe(e):pe.ceil(e)}function mu(e,t){return e=bi(e),J(pe.count(fe(e),e)+(fe(e).getUTCDay()===4),t,2)}function vu(e){return e.getUTCDay()}function pu(e,t){return J(Ae.count(fe(e)-1,e),t,2)}function yu(e,t){return J(e.getUTCFullYear()%100,t,2)}function xu(e,t){return e=bi(e),J(e.getUTCFullYear()%100,t,2)}function bu(e,t){return J(e.getUTCFullYear()%1e4,t,4)}function Mu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pe(e):pe.ceil(e),J(e.getUTCFullYear()%1e4,t,4)}function wu(){return"+0000"}function wr(){return"%"}function _r(e){return+e}function Sr(e){return Math.floor(+e/1e3)}var Ie,Mi,wi;_u({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _u(e){return Ie=_o(e),Mi=Ie.format,Ie.parse,wi=Ie.utcFormat,Ie.utcParse,Ie}function Su(e){return new Date(e)}function Tu(e){return e instanceof Date?+e:+new Date(+e)}function En(e,t,n,r,i,a,o,u,l,c){var s=ci(),h=s.invert,f=s.domain,d=c(".%L"),v=c(":%S"),m=c("%I:%M"),p=c("%I %p"),T=c("%a %d"),w=c("%b %d"),x=c("%B"),C=c("%Y");function k(b){return(l(b)<b?d:u(b)<b?v:o(b)<b?m:a(b)<b?p:r(b)<b?i(b)<b?T:w:n(b)<b?x:C)(b)}return s.invert=function(b){return new Date(h(b))},s.domain=function(b){return arguments.length?f(Array.from(b,Tu)):f().map(Su)},s.ticks=function(b){var A=f();return e(A[0],A[A.length-1],b??10)},s.tickFormat=function(b,A){return A==null?k:c(A)},s.nice=function(b){var A=f();return(!b||typeof b.range!="function")&&(b=t(A[0],A[A.length-1],b??10)),b?f(gi(A,b)):s},s.copy=function(){return Cn(s,En(e,t,n,r,i,a,o,u,l,c))},s}function ku(){return Ke.apply(En(Mo,wo,ce,Ft,ct,Te,Lt,Ut,Se,Mi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cu(){return Ke.apply(En(xo,bo,fe,Ot,ft,ke,Rt,It,Se,wi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Je(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Du(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,c=et(i),s=tt(i),h=et(a),f=tt(a),d=et(o),v=tt(o),m=et(u),p=tt(u),T=et(l),w=tt(l),x={a:S,A:E,b:L,B:O,c:null,d:$r,e:$r,f:Zu,g:ul,G:sl,H:qu,I:Gu,j:Xu,L:_i,m:Qu,M:Ju,p:G,q:H,Q:Ur,s:Lr,S:el,u:tl,U:nl,V:rl,w:il,W:al,x:null,X:null,y:ol,Y:ll,Z:cl,"%":Ar},C={a:W,A:Y,b:X,B:re,c:null,d:Er,e:Er,f:gl,g:Sl,G:kl,H:fl,I:hl,j:dl,L:Ti,m:ml,M:vl,p:ae,q:K,Q:Ur,s:Lr,S:pl,u:yl,U:xl,V:bl,w:Ml,W:wl,x:null,X:null,y:_l,Y:Tl,Z:Cl,"%":Ar},k={a:N,A:M,b:$,B:D,c:I,d:Dr,e:Dr,f:Hu,g:Cr,G:kr,H:Nr,I:Nr,j:Pu,L:Wu,m:Vu,M:Bu,p:B,q:Ou,Q:zu,s:Ku,S:Yu,u:Uu,U:Lu,V:Fu,w:Au,W:Iu,x:j,X:P,y:Cr,Y:kr,Z:Ru,"%":ju};x.x=b(n,x),x.X=b(r,x),x.c=b(t,x),C.x=b(n,C),C.X=b(r,C),C.c=b(t,C);function b(_,U){return function(F){var g=[],q=-1,V=0,Q=_.length,Z,te,se;for(F instanceof Date||(F=new Date(+F));++q<Q;)_.charCodeAt(q)===37&&(g.push(_.slice(V,q)),(te=Tr[Z=_.charAt(++q)])!=null?Z=_.charAt(++q):te=Z==="e"?" ":"0",(se=U[Z])&&(Z=se(F,te)),g.push(Z),V=q+1);return g.push(_.slice(V,q)),g.join("")}}function A(_,U){return function(F){var g=Je(1900,void 0,1),q=R(g,_,F+="",0),V,Q;if(q!=F.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(g.s*1e3+("L"in g?g.L:0));if(U&&!("Z"in g)&&(g.Z=0),"p"in g&&(g.H=g.H%12+g.p*12),g.m===void 0&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(V=Zt(Je(g.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?Ae.ceil(V):Ae(V),V=ke.offset(V,(g.V-1)*7),g.y=V.getUTCFullYear(),g.m=V.getUTCMonth(),g.d=V.getUTCDate()+(g.w+6)%7):(V=Xt(Je(g.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?Ee.ceil(V):Ee(V),V=Te.offset(V,(g.V-1)*7),g.y=V.getFullYear(),g.m=V.getMonth(),g.d=V.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),Q="Z"in g?Zt(Je(g.y,0,1)).getUTCDay():Xt(Je(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+g.W*7-(Q+5)%7:g.w+g.U*7-(Q+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Zt(g)):Xt(g)}}function R(_,U,F,g){for(var q=0,V=U.length,Q=F.length,Z,te;q<V;){if(g>=Q)return-1;if(Z=U.charCodeAt(q++),Z===37){if(Z=U.charAt(q++),te=k[Z in Tr?U.charAt(q++):Z],!te||(g=te(_,F,g))<0)return-1}else if(Z!=F.charCodeAt(g++))return-1}return g}function B(_,U,F){var g=c.exec(U.slice(F));return g?(_.p=s.get(g[0].toLowerCase()),F+g[0].length):-1}function N(_,U,F){var g=d.exec(U.slice(F));return g?(_.w=v.get(g[0].toLowerCase()),F+g[0].length):-1}function M(_,U,F){var g=h.exec(U.slice(F));return g?(_.w=f.get(g[0].toLowerCase()),F+g[0].length):-1}function $(_,U,F){var g=T.exec(U.slice(F));return g?(_.m=w.get(g[0].toLowerCase()),F+g[0].length):-1}function D(_,U,F){var g=m.exec(U.slice(F));return g?(_.m=p.get(g[0].toLowerCase()),F+g[0].length):-1}function I(_,U,F){return R(_,t,U,F)}function j(_,U,F){return R(_,n,U,F)}function P(_,U,F){return R(_,r,U,F)}function S(_){return o[_.getDay()]}function E(_){return a[_.getDay()]}function L(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function G(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return o[_.getUTCDay()]}function Y(_){return a[_.getUTCDay()]}function X(_){return l[_.getUTCMonth()]}function re(_){return u[_.getUTCMonth()]}function ae(_){return i[+(_.getUTCHours()>=12)]}function K(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=b(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=A(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=b(_+="",C);return U.toString=function(){return _},U},utcParse:function(_){var U=A(_+="",!0);return U.toString=function(){return _},U}}}var Tr={"-":"",_:" ",0:"0"},le=/^\s*\d+/,Nu=/^%/,$u=/[\\^$*+?|[\]().{}]/g;function ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Eu(e){return e.replace($u,"\\$&")}function et(e){return new RegExp("^(?:"+e.map(Eu).join("|")+")","i")}function tt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Au(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Uu(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Lu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Fu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Iu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kr(e,t,n){var r=le.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Cr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ru(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ou(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Vu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Dr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Pu(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Nr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Yu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Wu(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hu(e,t,n){var r=le.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ju(e,t,n){var r=Nu.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zu(e,t,n){var r=le.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ku(e,t,n){var r=le.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $r(e,t){return ee(e.getDate(),t,2)}function qu(e,t){return ee(e.getHours(),t,2)}function Gu(e,t){return ee(e.getHours()%12||12,t,2)}function Xu(e,t){return ee(1+Te.count(ce(e),e),t,3)}function _i(e,t){return ee(e.getMilliseconds(),t,3)}function Zu(e,t){return _i(e,t)+"000"}function Qu(e,t){return ee(e.getMonth()+1,t,2)}function Ju(e,t){return ee(e.getMinutes(),t,2)}function el(e,t){return ee(e.getSeconds(),t,2)}function tl(e){var t=e.getDay();return t===0?7:t}function nl(e,t){return ee(ct.count(ce(e)-1,e),t,2)}function Si(e){var t=e.getDay();return t>=4||t===0?ve(e):ve.ceil(e)}function rl(e,t){return e=Si(e),ee(ve.count(ce(e),e)+(ce(e).getDay()===4),t,2)}function il(e){return e.getDay()}function al(e,t){return ee(Ee.count(ce(e)-1,e),t,2)}function ol(e,t){return ee(e.getFullYear()%100,t,2)}function ul(e,t){return e=Si(e),ee(e.getFullYear()%100,t,2)}function ll(e,t){return ee(e.getFullYear()%1e4,t,4)}function sl(e,t){var n=e.getDay();return e=n>=4||n===0?ve(e):ve.ceil(e),ee(e.getFullYear()%1e4,t,4)}function cl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ee(t/60|0,"0",2)+ee(t%60,"0",2)}function Er(e,t){return ee(e.getUTCDate(),t,2)}function fl(e,t){return ee(e.getUTCHours(),t,2)}function hl(e,t){return ee(e.getUTCHours()%12||12,t,2)}function dl(e,t){return ee(1+ke.count(fe(e),e),t,3)}function Ti(e,t){return ee(e.getUTCMilliseconds(),t,3)}function gl(e,t){return Ti(e,t)+"000"}function ml(e,t){return ee(e.getUTCMonth()+1,t,2)}function vl(e,t){return ee(e.getUTCMinutes(),t,2)}function pl(e,t){return ee(e.getUTCSeconds(),t,2)}function yl(e){var t=e.getUTCDay();return t===0?7:t}function xl(e,t){return ee(ft.count(fe(e)-1,e),t,2)}function ki(e){var t=e.getUTCDay();return t>=4||t===0?pe(e):pe.ceil(e)}function bl(e,t){return e=ki(e),ee(pe.count(fe(e),e)+(fe(e).getUTCDay()===4),t,2)}function Ml(e){return e.getUTCDay()}function wl(e,t){return ee(Ae.count(fe(e)-1,e),t,2)}function _l(e,t){return ee(e.getUTCFullYear()%100,t,2)}function Sl(e,t){return e=ki(e),ee(e.getUTCFullYear()%100,t,2)}function Tl(e,t){return ee(e.getUTCFullYear()%1e4,t,4)}function kl(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pe(e):pe.ceil(e),ee(e.getUTCFullYear()%1e4,t,4)}function Cl(){return"+0000"}function Ar(){return"%"}function Ur(e){return+e}function Lr(e){return Math.floor(+e/1e3)}var Re,Ci,Di;Dl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dl(e){return Re=Du(e),Ci=Re.format,Re.parse,Di=Re.utcFormat,Re.utcParse,Re}function Nl(e){var t,n,r,i,a,o,u,l,c,s;return z({},e,{elementType:(t=e.elementType)!=null?t:"line",minTickPaddingForRotation:(n=e.minTickPaddingForRotation)!=null?n:10,tickLabelRotationDeg:(r=e.tickLabelRotationDeg)!=null?r:60,innerBandPadding:(i=e.innerBandPadding)!=null?i:.5,outerBandPadding:(a=e.outerBandPadding)!=null?a:.2,innerSeriesBandPadding:(o=e.innerSeriesBandPadding)!=null?o:.2,outerSeriesBandPadding:(u=e.outerSeriesBandPadding)!=null?u:0,show:(l=e.show)!=null?l:!0,stacked:(c=e.stacked)!=null?c:!1,shouldNice:(s=e.shouldNice)!=null?s:!0})}function Fr(e,t,n,r,i,a,o){var u=Nl(t);if(!u.position)throw new Error("Chart axes must have a valid 'position' property");var l=["left","right"].indexOf(u.position)>-1,c=l?[i.height,0]:[0,i.width],s=l?[o,0]:[0,a];return u.scaleType==="time"||u.scaleType==="localTime"?$l(e,u,n,r,l,c,s):u.scaleType==="linear"||u.scaleType==="log"?El(e,u,n,r,l,c,s):u.scaleType==="band"?Al(e,u,n,l,c,s):function(){throw new Error("Invalid scale type")}()}function $l(e,t,n,r,i,a,o){var u=t.scaleType==="localTime",l=u?ku:Cu,c=!1;n=e?n:n.filter(function(P){return P.secondaryAxisId===t.id}),r=e?r:r.filter(function(P){return P.secondaryAxisId===t.id});var s=l(a),h=tn(r,function(P){var S=t.getValue(P.originalDatum);return P[e?"primaryValue":"secondaryValue"]=S,S}),f=h[0],d=h[1],v,m=u?{year:ce,month:Ft,day:Te,hour:Lt,minute:Ut,second:Se}:{year:fe,month:Ot,day:ke,hour:Rt,minute:It,second:Se};f&&d&&(m.year.count(f,d)>0||m.year.floor(d)<m.year()?v="%b %-d, %Y %-I:%M:%S.%L %p":m.month.count(f,d)>0||m.month.floor(d)<m.month()||m.day.count(f,d)>0||m.day.floor(d)<m.day()?v="%b %-d, %-I:%M:%S.%L %p":m.hour.count(f,d)>0||m.hour.floor(d)<m.hour()?v="%-I:%M:%S.%L %p":m.minute.count(f,d)>0||m.minute.floor(d)<m.minute()?v="%-I:%M:%S.%L":(m.second.count(f,d)>0||m.second.floor(d)<m.second())&&(v="%L"));var p=u?Ci:Di,T=function(S){return S.trim().replace(/(,$|^,)/,"")},w=function(S,E){return m.second(E)<E?p(S)(E):m.minute(E)<E?p(T(S.replace(/\.%L.*?(\s|$)/,"")))(E):m.hour(E)<E?p(T(S.replace(/:%S.*?(\s|$)/,"")))(E):m.day(E)<E?p(T(S.replace(/:%M.*?(\s|$)/,"")))(E):m.month(E)<E?p(T(S.replace(/%-I.*/,"")))(E):m.year(E)<E?p(T(S.replace(/%-d.*/,"")))(E):p("%Y")(E)},x=t.shouldNice;Object.prototype.toString.call(t.min)==="[object Date]"&&(f=bt([t.min,f]),x=!1),Object.prototype.toString.call(t.max)==="[object Date]"&&(d=xt([t.max,d]),x=!1),Object.prototype.toString.call(t.hardMin)==="[object Date]"&&(f=t.hardMin,x=!1),Object.prototype.toString.call(t.hardMax)==="[object Date]"&&(d=t.hardMax,x=!1),(f===void 0||d===void 0)&&(console.info("Invalid scale min/max",{options:t,series:n,range:a,values:r.map(function(P){return e?P.primaryValue:P.secondaryValue})}),c=!0),s.domain([f,d]),t.invert&&s.domain(Array.from(s.domain()).reverse()),x&&s.nice();var C=s.copy().range(o),k=e?Ni(t,s,n,a):void 0,b=k?An(t,k,n):void 0,A=k==null?void 0:k.bandwidth();if(t.padBandRange&&A){var R=s.invert(0),B=s.invert(A),N=B.valueOf()-R.valueOf();s.domain([new Date(s.domain()[0].valueOf()-N/2),new Date(s.domain()[1].valueOf()+N/2)])}var M={},$=s.tickFormat(),D=function(S){var E,L;return(E=(L=t.formatters)==null||L.scale==null?void 0:L.scale(S,z({},M,{scale:void 0})))!=null?E:w(v,S)},I=function(S){var E,L;return(E=(L=t.formatters)==null||L.tooltip==null?void 0:L.tooltip(S,z({},M,{tooltip:void 0})))!=null?E:D(S)},j=function(S){var E,L;return(E=(L=t.formatters)==null||L.cursor==null?void 0:L.cursor(S,z({},M,{cursor:void 0})))!=null?E:D(S)};return Object.assign(M,{default:$,scale:D,tooltip:I,cursor:j}),z({},t,{isInvalid:c,axisFamily:"time",isVertical:i,scale:s,range:a,outerScale:C,primaryBandScale:k,seriesBandScale:b,formatters:M})}function El(e,t,n,r,i,a,o){var u=t.scaleType==="log"?mi():di(),l=!1;n=e?n:n.filter(function(N){return N.secondaryAxisId===t.id}),r=e?r:r.filter(function(N){return N.secondaryAxisId===t.id}),t.stacked&&Ul(n,t);var c=t.stacked?tn(n.map(function(N){return N.datums.map(function(M){var $,D=t.getValue(M.originalDatum);return M[e?"primaryValue":"secondaryValue"]=D,($=M.stackData)!=null?$:[]})}).flat(2)):tn(r,function(N){var M=t.getValue(N.originalDatum);return N[e?"primaryValue":"secondaryValue"]=M,M}),s=c[0],h=c[1],f=t.shouldNice;if(typeof t.min=="number"&&(s=bt([t.min,s]),f=!1),typeof t.max=="number"&&(h=xt([t.max,h]),f=!1),typeof t.minDomainLength=="number"&&!(s===void 0||h===void 0)){var d=Qi([s,h]),v=d+t.minDomainLength/2,m=d-t.minDomainLength/2;h=Math.max(v,h),s=Math.min(m,s)}if(typeof t.hardMin=="number"&&(s=t.hardMin,f=!1),typeof t.hardMax=="number"&&(h=t.hardMax,f=!1),s===void 0||h===void 0){var p,T;l=!0,console.info("Invalid scale min/max",{options:t,series:n,range:a,values:r.map(function(N){return e?N.primaryValue:N.secondaryValue})}),s=(p=s)!=null?p:0,h=(T=h)!=null?T:0}u.domain([s,h]),t.invert&&u.domain(Array.from(u.domain()).reverse()),u.range(a),f&&u.nice();var w=u.copy().range(o),x=e?Ni(t,u,n,a):void 0,C=x?An(t,x,n):void 0,k=u.tickFormat(),b={},A=function(M){var $,D;return($=(D=t.formatters)==null||D.scale==null?void 0:D.scale(M,z({},b,{scale:void 0})))!=null?$:k(M)},R=function(M){var $,D;return($=(D=t.formatters)==null||D.tooltip==null?void 0:D.tooltip(M,z({},b,{tooltip:void 0})))!=null?$:A(M)},B=function(M){var $,D;return($=(D=t.formatters)==null||D.cursor==null?void 0:D.cursor(M,z({},b,{cursor:void 0})))!=null?$:R(M)};return Object.assign(b,{default:k,scale:A,tooltip:R,cursor:B}),z({},t,{isInvalid:l,axisFamily:"linear",isVertical:i,scale:u,range:a,outerScale:w,primaryBandScale:x,seriesBandScale:C,formatters:b})}function Al(e,t,n,r,i,a){var o,u;n=n.filter(function(x){return x.secondaryAxisId===t.id});var l=!1,c=Array.from(new Set(n.map(function(x){return x.datums}).flat().map(function(x){var C=t.getValue(x.originalDatum);return x[e?"primaryValue":"secondaryValue"]=C,C}))),s=At(c,i).round(!1).paddingOuter((o=t.outerBandPadding)!=null?o:0).paddingInner((u=t.innerBandPadding)!=null?u:0);t.invert&&s.domain(Array.from(s.domain()).reverse());var h=s.copy().range(a),f=s,d=An(t,f,n),v=function(C){return C},m={},p=function(C){var k,b;return(k=(b=t.formatters)==null||b.scale==null?void 0:b.scale(C,z({},m,{scale:void 0})))!=null?k:v(C)},T=function(C){var k,b;return(k=(b=t.formatters)==null||b.tooltip==null?void 0:b.tooltip(C,z({},m,{tooltip:void 0})))!=null?k:p(C)},w=function(C){var k,b;return(k=(b=t.formatters)==null||b.cursor==null?void 0:b.cursor(C,z({},m,{cursor:void 0})))!=null?k:T(C)};return Object.assign(m,{default:v,scale:p,tooltip:T,cursor:w}),z({},t,{isInvalid:l,axisFamily:"band",isVertical:r,scale:s,range:i,outerScale:h,formatters:m,primaryBandScale:f,seriesBandScale:d})}function Ul(e,t){for(var n,r=Object.keys(e),i=ha().keys(r).value(function(s,h,f){var d,v,m=(d=e[Number(h)])==null||(v=d.datums[f])==null?void 0:v.originalDatum,p=typeof m<"u"?t.getValue(m):0;return typeof p>"u"||p===null?0:p}).offset((n=t.stackOffset)!=null?n:hn),a=i(Array.from({length:e.sort(function(s,h){return h.datums.length-s.datums.length})[0].datums.length})),o=0;o<a.length;o++)for(var u=a[o],l=0;l<u.length;l++){var c=u[l];e[o].datums[l]&&(c.data=e[o].datums[l],e[o].datums[l].stackData=c)}}function Ni(e,t,n,r){var i,a,o=Math.max.apply(Math,r),u=Math.max.apply(Math,r);(function(){for(var s=0;s<n.length;s++)for(var h=n[s],f=0;f<h.datums.length;f++)for(var d,v=h.datums[f],m=t((d=v.primaryValue)!=null?d:NaN),p=0;p<h.datums.length;p++){var T,w=h.datums[p],x=t((T=w.primaryValue)!=null?T:NaN);if(m!==x){var C=Math.abs(Math.max(m,x)-Math.min(m,x));if(C<o&&(o=Math.max(C,u),o===u))return}}})();var l=yn(u/o),c=At(l,r).round(!1).paddingOuter((i=e.outerBandPadding)!=null?i:0).paddingInner((a=e.innerBandPadding)!=null?a:0);return c}function An(e,t,n){var r,i,a=yn(n.length),o=At(a,[0,t.bandwidth()]).round(!1).paddingOuter((r=e.outerSeriesBandPadding)!=null?r:e.outerBandPadding?e.outerBandPadding/2:0).paddingInner((i=e.innerSeriesBandPadding)!=null?i:e.innerBandPadding?e.innerBandPadding/2:0),u=function(c){var s;return o((s=n.find(function(h){return h.index===c}))==null?void 0:s.indexPerAxis)};return Object.assign(u,o)}var Qt=function(t){var n=t.getBoundingClientRect();return{top:Math.round(n.top),right:Math.round(n.right),bottom:Math.round(n.bottom),left:Math.round(n.left),width:Math.round(n.width),height:Math.round(n.height),x:Math.round(n.x),y:Math.round(n.y)}};function Ll(e){var t=e.axis,n=e.elRef,r=e.gridDimensions,i=e.setShowRotated,a=Me(),o=a.axisDimensionsState,u=o[0],l=o[1],c=y.useMemo(function(){var f;return(f=u[t.position])==null?void 0:f[t.id]},[u,t.position,t.id]),s=y.useCallback(function(){var f;if(n.current){var d=t.isVertical?r.height:r.width,v=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map(function(w){return Qt(w)}),m;v.forEach(function(w){var x,C=(x=m)!=null?x:{width:0};w.width>0&&w.width>C.width&&(m=w)});var p=d;v.length>1&&v.forEach(function(w,x){var C=v[x-1];C&&(p=Math.min(p,t.isVertical?w.top-C.top:w.left-C.left))});var T=(((f=m)==null?void 0:f.width)||0)+t.minTickPaddingForRotation>p;t.isVertical||i(T)}},[n,t.isVertical,t.minTickPaddingForRotation,r.width,r.height,i]),h=y.useCallback(function(){if(!n.current){c&&l(function(w){var x,C,k=z({},(x=w[t.position])!=null?x:{});return delete k[t.id],z({},w,(C={},C[t.position]=k,C))});return}var f={width:0,height:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},d=n.current,v=d.querySelector(".Axis-Group.inner .domainAndTicks"),m=d.querySelector(".Axis-Group.inner .domain");if(!(!v||!m)){var p=Qt(v),T=Qt(m);!p||!T||(t.isVertical?(f.paddingTop=Math.round(Math.max(0,T.top-(p==null?void 0:p.top))),f.paddingBottom=Math.round(Math.max(0,(p==null?void 0:p.bottom)-T.bottom)),f.width=p==null?void 0:p.width):(f.paddingLeft=Math.round(Math.max(0,T.left-(p==null?void 0:p.left))),f.paddingRight=Math.round(Math.max(0,(p==null?void 0:p.right)-T.right)),f.height=p==null?void 0:p.height),(!u||!c||Object.keys(f).some(function(w){return f[w]!==c[w]}))&&l(function(w){var x,C,k;return z({},w,(k={},k[t.position]=z({},(x=w[t.position])!=null?x:{},(C={},C[t.id]=f,C)),k))}))}},[t.id,t.isVertical,t.position,c,u,n,l]);lt(function(){window.requestAnimationFrame(function(){s(),h()})},[s])}function Fl(e){var t=y.useState(!1),n=t[0],r=t[1],i=Me(),a=i.getOptions,o=i.gridDimensions,u=i.width,l=i.height,c=a(),s=c.dark,h=c.showDebugAxes,f=y.useRef(null);Ll({axis:e,elRef:f,gridDimensions:o,setShowRotated:r});var d=function(m){var p=!m&&n,T=m?e.outerScale:e.scale,w=T.range(),x=w[0],C=w[1],k=function(){var D=e;if(D.outerScale.ticks){if(typeof D.tickCount=="number")return D.outerScale.ticks(D.tickCount);var I=D.isVertical?40:80,j=D.outerScale.range(),P=Math.abs(j[1]-j[0])/I;return D.outerScale.ticks(P)}return D.outerScale.domain()},b=m?l:o.height,A=m?u:o.width,R=e.position==="left"?[{x:0,y:x},{x:0,y:C}]:e.position==="right"?[{x:A,y:x},{x:A,y:C}]:e.position==="top"?[{x,y:0},{x:C,y:0}]:[{x,y:b},{x:C,y:b}],B=R[0],N=R[1],M=k().map(function($){var D=Il(T,$),I=e.position==="left"?[{x:0,y:D},{x:-8,y:D},{x:A,y:D}]:e.position==="right"?[{x:A,y:D},{x:A+8,y:D},{x:0,y:D}]:e.position==="top"?[{x:D,y:0},{x:D,y:-8},{x:D,y:b}]:[{x:D,y:b},{x:D,y:b+8},{x:D,y:0}],j=I[0],P=I[1],S=I[2];return{value:$,from:j,to:P,gridTo:S}});return y.createElement("g",{key:"Axis-Group "+(m?"outer":"inner"),className:"Axis-Group "+(m?"outer":"inner"),style:{transform:m?void 0:ze(o.left,o.top)}},y.createElement("g",{className:"Axis",style:z({},m?{opacity:h?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"})},y.createElement("g",{className:"domainAndTicks"},y.createElement("line",{className:"domain",x1:B.x,y1:B.y,x2:N.x,y2:N.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),M.map(function($,D){var I=$.to,j=I.x,P=I.y;return e.position==="top"?P-=5:e.position==="bottom"?P+=5:e.position==="left"?j-=5:e.position==="right"&&(j+=5),y.createElement("g",{key:"vx-tick-"+$+"-"+D,className:"tick"},m?null:y.createElement("line",{x1:$.from.x,y1:$.from.y,x2:$.to.x,y2:$.to.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),y.createElement("text",{className:"tickLabel",style:{fontSize:10,fill:s?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:p?"central":e.position==="bottom"?"hanging":e.position==="top"?"alphabetic":"central",textAnchor:p?"end":e.position==="right"?"start":e.position==="left"?"end":"middle"},transform:"translate("+j+", "+P+") rotate("+(p?e.position==="top"?60:-60:0)+")"},e.formatters.scale($.value)))})),y.createElement("g",{className:"grid"},M.map(function($,D){var I;return y.createElement("g",{key:"vx-tick-"+$+"-"+D,className:"tick"},((I=e.showGrid)==null||I)&&!m?y.createElement("line",{x1:$.from.x,y1:$.from.y,x2:$.gridTo.x,y2:$.gridTo.y,stroke:s?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}):null)}))))};return e.show?y.createElement("g",{ref:f},d(!1),d(!0)):null}function Il(e,t){var n,r=(n=e(t))!=null?n:NaN;return e.bandwidth?r+e.bandwidth()/2:r}function $i(e){var t=y.useRef();return lt(function(){t.current=e},[e]),t.current}function me(e,t){t===void 0&&(t=!0);var n=y.useRef(t?e:null);return t&&(n.current=e),n.current}function Ei(){var e=Et.useState(),t=e[0],n=e[1];return lt(function(){if(!t){var r=document.getElementById("react-charts-portal");r||(r=document.createElement("div"),r.setAttribute("id","react-charts-portal"),Object.assign(r.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(r)),n(r)}}),t}function it(e,t){var n=y.useReducer(function(){return{}},[])[1],r=y.useRef({width:0,height:0,x:0,y:0,left:0,top:0,right:0,bottom:0}),i=y.useCallback(function(){e&&(r.current=e.getBoundingClientRect())},[e]);return r.current||i(),y.useEffect(function(){if(!(!e||!t)){var a=function(){i(),n()};return document.addEventListener("scroll",a,!0),function(){document.removeEventListener("scroll",a,!0)}}},[e,t,i,n]),y.useEffect(function(){if(!(!e||!t)){i(),n();var a=new ResizeObserver(function(){i(),n()});return a.observe(e),function(){a.unobserve(e)}}},[e,t,i,n]),r.current}function Ai(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ai=function(){return!!e})()}function Rl(e,t,n){if(Ai())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return i}var Ir=.001;function Ui(e,t){return Number.isNaN(e)&&Number.isNaN(t)?!0:e>t-Ir&&e<t+Ir}function Oe(e){return Ui(e,0)}var Ol=function(){function e(n,r,i,a){this._m=r,this._k=i,this._c=a,this._solution=null,this.endPosition=n,this._startTime=0}var t=e.prototype;return t.x=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this.endPosition+this._solution.x(r):this.endPosition},t.dx=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this._solution.dx(r):0},t.setEnd=function(r){var i=new Date().getTime(),a=0,o=this.endPosition;this._solution&&(Oe(a)&&(a=this._solution.dx((i-this._startTime)/1e3)),o=this._solution.x((i-this._startTime)/1e3),Oe(a)&&(a=0),Oe(o)&&(o=0),o+=this.endPosition),!(this._solution&&Oe(o-r)&&Oe(a))&&(this.endPosition=r,this._solution=this._solve(o-this.endPosition,a),this._startTime=i)},t.snap=function(r){this._startTime=new Date().getTime(),this.endPosition=r,this._solution={x:function(){return 0},dx:function(){return 0}}},t.done=function(){return Ui(this.x(),this.endPosition)&&Oe(this.dx())},t._solve=function(r,i){var a=this._c,o=this._m,u=this._k,l=a*a-4*o*u;if(l===0){var c=-a/(2*o),s=r,h=i/(c*r);return{x:function(k){return(s+h*k)*Math.pow(Math.E,c*k)},dx:function(k){var b=Math.pow(Math.E,c*k);return c*(s+h*k)*b+h*b}}}else if(l>0){var f=(-a-Math.sqrt(l))/(2*o),d=(-a+Math.sqrt(l))/(2*o),v=(i-f*r)/(d-f),m=r-v;return{x:function(k){return m*Math.pow(Math.E,f*k)+v*Math.pow(Math.E,d*k)},dx:function(k){return m*f*Math.pow(Math.E,f*k)+v*d*Math.pow(Math.E,d*k)}}}else{var p=Math.sqrt(4*o*u-a*a)/(2*o),T=-(a/2*o),w=r,x=(i-T*r)/p;return{x:function(k){return Math.pow(Math.E,T*k)*(w*Math.cos(p*k)+x*Math.sin(p*k))},dx:function(k){var b=Math.pow(Math.E,T*k),A=Math.cos(p*k),R=Math.sin(p*k);return b*(x*p*A-w*p*R)+T*b*(x*R+w*A)}}}},e}();function Be(e,t,n,r,i){var a=y.useRef(Rl(Ol,[e].concat(t))),o=Mt(e),u=Vl(function(){return n(a.current.x()),a.current.done()}),l=u[0],c=u[1],s=y.useRef(),h=s.current!==e;return y.useEffect(function(){if(h){if(r){a.current.snap(o()),l();return}a.current.setEnd(e),l()}s.current=e}),y.useEffect(function(){return function(){c()}},[c]),a.current}function Vl(e){var t=y.useRef(null),n=y.useRef(e);n.current=e;var r=y.useCallback(function(){n.current()||(t.current=requestAnimationFrame(r))},[]);return[y.useMemo(function(){return r},[r]),y.useMemo(function(){return function(){return t.current&&cancelAnimationFrame(t.current)}},[])]}var Pl=function(t,n){return t?"rgba(255,255,255,"+(n>4?.15:.3)+")":"rgba(0, 26, 39, "+(n>4?.15:.3)+")"},Rr=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Or(e){var t,n,r;return z({},e,{show:(t=e.show)!=null?t:!0,showLine:(n=e.showLine)!=null?n:!0,showLabel:(r=e.showLabel)!=null?r:!0})}function Bl(){var e,t,n=Me(),r=n.getOptions,i=(e=r().primaryCursor)!=null?e:!0,a=(t=r().secondaryCursor)!=null?t:!0,o=y.useMemo(function(){return Or(i?typeof i=="boolean"?{}:i:{show:!1})},[i]),u=y.useMemo(function(){return Or(a?typeof a=="boolean"?{}:a:{show:!1})},[a]);return y.createElement(y.Fragment,null,o.show&&y.createElement(Vr,{primary:!0,options:o}),u.show&&y.createElement(Vr,{options:u}))}function Vr(e){var t,n,r,i,a,o,u,l=Me(),c=l.getOptions,s=l.svgRef,h=l.gridDimensions,f=l.focusedDatumState,d=l.primaryAxis,v=l.secondaryAxes,m=Mt(e.options),p=f[0],T=me(p,!!p),w=(t=v.find(function(Fe){return Fe.id===(T==null?void 0:T.secondaryAxisId)}))!=null?t:v[0],x=e.primary?d:w,C=e.primary?w:d,k=function(gt){var Vn;return gt?x.stacked?(Vn=gt.stackData)==null?void 0:Vn[1]:e.primary?gt.primaryValue:gt.secondaryValue:void 0},b=k(p);y.useEffect(function(){var Fe;(Fe=m())==null||Fe.onChange==null||Fe.onChange(b)},[m,b]);var A=(n=e.options.value)!=null?n:b,R=me(e.options.value,e.options.value!=null),B=me(k(T),k(T)!=null),N=R??B,M=C.scale.range(),$,D,I,j,P,S,E,L,O=x.axisFamily==="band"?x.scale.bandwidth():1,G=typeof A<"u"&&!Number.isNaN(A),H=x.scale(A);if(x.isVertical){var W,Y;D=H,P=((W=D)!=null?W:0)-1,S=((Y=D)!=null?Y:0)+O,x.position==="left"?(I=M[0],j=M[1]):(I=M[1],j=M[0])}else{var X,re;$=H,I=((X=$)!=null?X:0)-1,j=((re=$)!=null?re:0)+O,x.position==="top"?(P=M[0],S=M[1]):(P=M[1],S=M[0])}var ae=Math.min(I,j),K=Math.min(P,S),_=Math.max(I,j),U=Math.max(P,S),F=Math.max(U-K,0),g=Math.max(_-ae,0),q,V;x.isVertical?(x.position==="left"?q=ae:q=_,V=K+F/2):(x.position==="top"?V=K:V=U,q=ae+g/2),x.isVertical?(L=-50,x.position==="left"?E=-100:E=0):(E=-50,x.position==="top"?L=-100:L=0);var Q=x.formatters.cursor(N),Z=it(s.current,G),te=y.useRef(null),se=y.useRef(null),Vt=me(ae,H!=null),ht=me(K,H!=null),dt=me(q,H!=null),qe=me(V,H!=null),Pt=$i(H),ye=Pt==null&&H!==null;ae=(r=H!=null?ae:Vt)!=null?r:NaN,K=(i=H!=null?K:ht)!=null?i:NaN,q=(a=H!=null?q:dt)!=null?a:NaN,V=(o=H!=null?V:qe)!=null?o:NaN;var Ln=Be(ae,[1,210,20],function(){te.current&&(te.current.style.transform="translate("+Ln.x()+"px, "+Fn.x()+"px)")},ye),Fn=Be(K,[1,210,20],function(){te.current&&(te.current.style.transform="translate("+Ln.x()+"px, "+Fn.x()+"px)")},ye),In=Be(q,[1,210,20],function(){se.current&&(se.current.style.transform="translate("+In.x()+"px, "+Rn.x()+"px)")},ye),Rn=Be(V,[1,210,20],function(){se.current&&(se.current.style.transform="translate("+In.x()+"px, "+Rn.x()+"px)")},ye),On=Ei();return On?zr.createPortal(y.createElement("div",{style:{fontFamily:"sans-serif",pointerEvents:"none",position:"absolute",top:0,left:0,transform:ze(Z.left+h.left,Z.top+h.top),opacity:G?1:0,transition:"opacity .3s ease"},className:"Cursor"},e.options.showLine?y.createElement("div",{ref:te,style:{width:g+"px",height:F+"px",position:"absolute",top:0,left:0,background:Pl((u=c().dark)!=null?u:!1,O)}}):null,e.options.showLabel?y.createElement("div",{ref:se,style:{position:"absolute",top:0,left:0}},y.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Rr(c().dark),color:Rr(!c().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+E+"%, "+L+"%, 0)",whiteSpace:"nowrap"}},Q)):null),On):null}var Yl={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function Wl(e){var t=it(e.portalEl,e.show),n=it(e.anchorEl,e.show),r=it(e.tooltipEl,e.show),i=y.useMemo(function(){var u=Array.isArray(e.side)?e.side:[e.side];return u.map(function(l){var c=l.split(" "),s=c[0],h=c[1],f=h===void 0?"center":h,d=!["top","right","bottom","left"].find(function(m){return s===m});if(d)throw new Error('react-sticker: "'+s+`" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`);var v=!["center","start","end","top","right","bottom","left"].find(function(m){return f===m});if(v)throw new Error('react-sticker: "'+f+`" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`);return[s,f]})},[JSON.stringify(e.side)]),a=t&&r&&n,o=y.useMemo(function(){return a&&e.show?Hl({portalDims:t,tooltipDims:r,anchorDims:n,sides:i,useLargest:e.useLargest}):null},[n,e.show,e.useLargest,t,a,i,r]);return{fit:o,style:z({position:"absolute",visibility:a?"visible":"hidden"},o==null?void 0:o.style)}}function Hl(e){var t=e.portalDims,n=e.tooltipDims,r=e.anchorDims,i=e.sides,a=e.useLargest,o=i.map(function(u){var l=u[0],c=u[1];return jl(z({},Yl[l],{align:c,portalDims:t,tooltipDims:n,anchorDims:r}))});return a?(o.sort(function(u,l){return l.fitRatio-u.fitRatio}),o[0]):o.find(function(u){return u.fitRatio>=1})||o[0]}function jl(e){var t,n=e.side,r=e.align,i=e.startKey,a=e.lengthKey,o=e.crossStartKey,u=e.crossLengthKey,l=e.fromEnd,c=e.portalDims,s=e.tooltipDims,h=e.anchorDims,f=c[i],d=c[a],v=c[o],m=c[u],p=h[i]-c[i],T=h[a],w=h[o],x=h[u],C=h[u],k=s[a],b=s[u],A,R;l?(A=p+T,R=(d-(p+T))/k):(A=p-k,R=Math.min(p/k)),A=Math.max(f,Math.min(A,d));var B;return i==="left"?r==="top"?r="start":r==="bottom"&&(r="end"):r==="left"?r="start":r==="right"&&(r="end"),["start","center","end"].includes(r)||(r="center"),r==="start"?B=w:r==="end"?B=w+C-b:B=w+x/2-b/2,B=Math.max(v,Math.min(B,m-b)),{side:n,align:r,startKey:i,lengthKey:a,crossStartKey:o,crossLengthKey:u,fromEnd:l,portalDims:c,tooltipDims:s,anchorDims:h,fitRatio:R,style:(t={},t[i]=A,t[o]=B,t)}}var zl=10,ne=7,Pr=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Kl(e){return y.createElement(ql,e)}function ql(e){var t,n,r,i=me(e.anchor.fit,!!e.anchor.fit);if(!e.focusedDatum)return null;var a=e.primaryAxis,o=e.secondaryAxis,u=e.getDatumStyle,l=e.focusedDatum,c=e.secondaryAxes,s=e.getOptions(),h=s.tooltip,f=s.dark,d=((t=(n=e.focusedDatum)==null?void 0:n.tooltipGroup)!=null?t:[]).filter(function(N){var M;return(M=h.showDatumInTooltip==null?void 0:h.showDatumInTooltip(N))!=null?M:!0}),v=zl,m=d.length,p=d.findIndex(function(N){return N===l}),T=p>-1?p-v/2:0;T=Math.max(T,0);var w=p>-1?T+v:m;w=Math.min(w,m),T=Math.max(w-v,0);var x=d.slice(T,w),C=T>0,k=w<m,b=(i==null?void 0:i.side)+"-"+(i==null?void 0:i.align),A,R;A||(b==="left-center"?A="right":b==="right-center"?A="left":b==="top-center"?A="bottom":b==="bottom-center"?A="top":b==="right-start"?A="bottomLeft":b==="right-end"?A="topLeft":b==="left-start"?A="bottomRight":b==="left-end"&&(A="topRight"));var B=Pr(f);return A==="bottom"?R={top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:ne*.8+"px solid transparent",borderRight:ne*.8+"px solid transparent",borderTop:ne+"px solid "+B}:A==="top"?R={top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:ne*.8+"px solid transparent",borderRight:ne*.8+"px solid transparent",borderBottom:ne+"px solid "+B}:A==="right"?R={top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne+"px solid "+B}:A==="left"?R={top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne+"px solid "+B}:A==="topRight"?R={top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne*2+"px solid "+B}:A==="bottomRight"?R={top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne*2+"px solid "+B}:A==="topLeft"?R={top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne*2+"px solid "+B}:A==="bottomLeft"?R={top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne*2+"px solid "+B}:R={opacity:0},y.createElement("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:Pr(f),color:f?"black":"white",borderRadius:"3px"}},y.createElement("div",{style:z({position:"absolute",width:0,height:0},R)}),y.createElement("div",null,y.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},h.groupingMode==="series"?y.createElement("strong",null,l.seriesLabel):h.groupingMode==="secondary"?y.createElement("strong",null,o.formatters.tooltip(l.secondaryValue)):y.createElement("strong",null,a.formatters.tooltip(l.primaryValue))),y.createElement("table",{style:{whiteSpace:"nowrap"}},y.createElement("tbody",null,C?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,x.map(function(N,M){var $=N===l,D=c.find(function(I){return I.id===N.secondaryAxisId});return y.createElement("tr",{key:M,style:{opacity:$?1:.8,fontWeight:$?"bold":void 0}},y.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},y.createElement("svg",{width:"14",height:"14"},y.createElement("circle",{cx:"7",cy:"7",r:"5",style:z({},u(N),{stroke:f?"black":"white",strokeWidth:$?2:1})}))),h.groupingMode==="series"?y.createElement(y.Fragment,null,y.createElement("td",null,a.formatters.tooltip(N.primaryValue),":  "),y.createElement("td",{style:{textAlign:"right"}},D.formatters.tooltip(N.secondaryValue))):h.groupingMode==="secondary"?y.createElement(y.Fragment,null,y.createElement("td",null,N.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},a.formatters.tooltip(N.primaryValue))):y.createElement(y.Fragment,null,y.createElement("td",null,N.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},D.formatters.tooltip(N.secondaryValue))))}),k?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,((r=l.tooltipGroup)!=null?r:[]).length>1?e.secondaryAxes.filter(function(N){return N.stacked}).map(function(N,M){var $,D;return y.createElement("tr",{key:N.id+"_"+M},y.createElement("td",{style:{paddingTop:"5px"}},y.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:f?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),y.createElement("td",{style:{paddingTop:"5px"}},e.secondaryAxes.length>1?($=N.id)!=null?$:"Axis "+(M+1)+" ":"","Total:  "),y.createElement("td",{style:{paddingTop:"5px"}},N.formatters.scale(he((D=l.tooltipGroup)!=null?D:[],function(I){return I.secondaryValue}))))}):null))))}var Gl=["visibility"];function Xl(e){var t,n,r,i,a,o;return e===void 0&&(e={}),e===!0?e={show:!0}:e===!1&&(e={show:!1}),z({show:!0},e,{align:(t=e.align)!=null?t:"auto",alignPriority:(n=e.alignPriority)!=null?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:(r=e.padding)!=null?r:5,arrowPadding:(i=e.arrowPadding)!=null?i:7,render:(a=e.render)!=null?a:Kl,showDatumInTooltip:(o=e.showDatumInTooltip)!=null?o:function(){return!0}})}function Zl(){var e,t,n=Me(),r=n.focusedDatumState,i=n.getOptions,a=n.primaryAxis,o=n.secondaryAxes,u=n.getDatumStatusStyle,l=n.svgRef,c=r[0],s=me(c,!!c),h=(e=o.find(function(D){return D.id===(s==null?void 0:s.secondaryAxisId)}))!=null?e:o[0],f=Ei(),d=y.useState(),v=d[0],m=d[1],p=it(l.current,!!(c!=null&&c.element)),T=y.useMemo(function(){var D,I,j,P,S,E,L=(D=s==null||(I=s.element)==null?void 0:I.getBoundingClientRect())!=null?D:null;if(!L)return null;if(p){var O=(j=L.left)!=null?j:0,G=(P=L.top)!=null?P:0,H=(S=L.width)!=null?S:0,W=(E=L.height)!=null?E:0,Y=document.createElement("div");return Y.getBoundingClientRect=function(){return{x:O,y:G,width:H,height:W,top:G,left:O,bottom:G+H,right:O+W}},Y}},[s==null?void 0:s.element,p]),w=Wl({show:!!c,portalEl:f,anchorEl:T,tooltipEl:v,side:["right","left","top","bottom"]}),x=$i(w),C=(t=me(w,!!w.fit))!=null?t:w,k=C.style;k.visibility;var b=Kr(k,Gl),A=y.useRef(null),R=Number.isNaN(x==null?void 0:x.style.left),B=Be(b.left||0,[1,210,30],function(){A.current&&(A.current.style.transform="translate("+B.x()+"px, "+N.x()+"px)")},R),N=Be(b.top||0,[1,210,30],function(){A.current&&(A.current.style.transform="translate("+B.x()+"px, "+N.x()+"px)")},R),M=i().tooltip.show,$=me(w.fit,!!w.fit);return M&&f?zr.createPortal(y.createElement("div",{ref:A,style:{position:b.position,opacity:c?1:0,transition:"opacity .3s ease"}},y.createElement("div",{ref:function(I){return m(I)},style:z({fontFamily:"sans-serif"},($==null?void 0:$.startKey)==="left"?{padding:"0 10px"}:{padding:"10px 0"})},i().tooltip.render({getOptions:i,focusedDatum:s,primaryAxis:a,secondaryAxes:o,secondaryAxis:h,getDatumStyle:function(I){return u(I,c)},anchor:w}))),f):null}const Br=Math.pow(2,-52),pt=new Uint32Array(512);class $t{static from(t,n=ns,r=rs){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new $t(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let u=1/0,l=1/0,c=-1/0,s=-1/0;for(let N=0;N<o;N++){const M=t[2*N],$=t[2*N+1];M<u&&(u=M),$<l&&(l=$),M>c&&(c=M),$>s&&(s=$),this._ids[N]=N}const h=(u+c)/2,f=(l+s)/2;let d=1/0,v,m,p;for(let N=0;N<o;N++){const M=Jt(h,f,t[2*N],t[2*N+1]);M<d&&(v=N,d=M)}const T=t[2*v],w=t[2*v+1];d=1/0;for(let N=0;N<o;N++){if(N===v)continue;const M=Jt(T,w,t[2*N],t[2*N+1]);M<d&&M>0&&(m=N,d=M)}let x=t[2*m],C=t[2*m+1],k=1/0;for(let N=0;N<o;N++){if(N===v||N===m)continue;const M=es(T,w,x,C,t[2*N],t[2*N+1]);M<k&&(p=N,k=M)}let b=t[2*p],A=t[2*p+1];if(k===1/0){for(let $=0;$<o;$++)this._dists[$]=t[2*$]-t[0]||t[2*$+1]-t[1];Ye(this._ids,this._dists,0,o-1);const N=new Uint32Array(o);let M=0;for(let $=0,D=-1/0;$<o;$++){const I=this._ids[$];this._dists[I]>D&&(N[M++]=I,D=this._dists[I])}this.hull=N.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(yt(T,w,x,C,b,A)){const N=m,M=x,$=C;m=p,x=b,C=A,p=N,b=M,A=$}const R=ts(T,w,x,C,b,A);this._cx=R.x,this._cy=R.y;for(let N=0;N<o;N++)this._dists[N]=Jt(t[2*N],t[2*N+1],R.x,R.y);Ye(this._ids,this._dists,0,o-1),this._hullStart=v;let B=3;r[v]=n[p]=m,r[m]=n[v]=p,r[p]=n[m]=v,i[v]=0,i[m]=1,i[p]=2,a.fill(-1),a[this._hashKey(T,w)]=v,a[this._hashKey(x,C)]=m,a[this._hashKey(b,A)]=p,this.trianglesLen=0,this._addTriangle(v,m,p,-1,-1,-1);for(let N=0,M,$;N<this._ids.length;N++){const D=this._ids[N],I=t[2*D],j=t[2*D+1];if(N>0&&Math.abs(I-M)<=Br&&Math.abs(j-$)<=Br||(M=I,$=j,D===v||D===m||D===p))continue;let P=0;for(let G=0,H=this._hashKey(I,j);G<this._hashSize&&(P=a[(H+G)%this._hashSize],!(P!==-1&&P!==r[P]));G++);P=n[P];let S=P,E;for(;E=r[S],!yt(I,j,t[2*S],t[2*S+1],t[2*E],t[2*E+1]);)if(S=E,S===P){S=-1;break}if(S===-1)continue;let L=this._addTriangle(S,D,r[S],-1,-1,i[S]);i[D]=this._legalize(L+2),i[S]=L,B++;let O=r[S];for(;E=r[O],yt(I,j,t[2*O],t[2*O+1],t[2*E],t[2*E+1]);)L=this._addTriangle(O,D,E,i[D],-1,i[O]),i[D]=this._legalize(L+2),r[O]=O,B--,O=E;if(S===P)for(;E=n[S],yt(I,j,t[2*E],t[2*E+1],t[2*S],t[2*S+1]);)L=this._addTriangle(E,D,S,-1,i[S],i[E]),this._legalize(L+2),i[E]=L,r[S]=S,B--,S=E;this._hullStart=n[D]=S,r[S]=n[O]=D,r[D]=O,a[this._hashKey(I,j)]=D,a[this._hashKey(t[2*S],t[2*S+1])]=S}this.hull=new Uint32Array(B);for(let N=0,M=this._hullStart;N<B;N++)this.hull[N]=M,M=r[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Ql(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const u=r[t],l=t-t%3;if(o=l+(t+2)%3,u===-1){if(a===0)break;t=pt[--a];continue}const c=u-u%3,s=l+(t+1)%3,h=c+(u+2)%3,f=n[o],d=n[t],v=n[s],m=n[h];if(Jl(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*v],i[2*v+1],i[2*m],i[2*m+1])){n[t]=m,n[u]=f;const T=r[h];if(T===-1){let x=this._hullStart;do{if(this._hullTri[x]===h){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,T),this._link(u,r[o]),this._link(o,h);const w=c+(u+1)%3;a<pt.length&&(pt[a++]=w)}else{if(a===0)break;t=pt[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,a),this._link(u+2,o),this.trianglesLen+=3,u}}function Ql(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Jt(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function en(e,t,n,r,i,a){const o=(r-t)*(i-e),u=(n-e)*(a-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function yt(e,t,n,r,i,a){return(en(i,a,e,t,n,r)||en(e,t,n,r,i,a)||en(n,r,i,a,e,t))<0}function Jl(e,t,n,r,i,a,o,u){const l=e-o,c=t-u,s=n-o,h=r-u,f=i-o,d=a-u,v=l*l+c*c,m=s*s+h*h,p=f*f+d*d;return l*(h*p-m*d)-c*(s*p-m*f)+v*(s*d-h*f)<0}function es(e,t,n,r,i,a){const o=n-e,u=r-t,l=i-e,c=a-t,s=o*o+u*u,h=l*l+c*c,f=.5/(o*c-u*l),d=(c*s-u*h)*f,v=(o*h-l*s)*f;return d*d+v*v}function ts(e,t,n,r,i,a){const o=n-e,u=r-t,l=i-e,c=a-t,s=o*o+u*u,h=l*l+c*c,f=.5/(o*c-u*l),d=e+(c*s-u*h)*f,v=t+(o*h-l*s)*f;return{x:d,y:v}}function Ye(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let u=i-1;for(;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{const i=n+r>>1;let a=n+1,o=r;nt(e,i,a),t[e[n]]>t[e[r]]&&nt(e,n,r),t[e[a]]>t[e[r]]&&nt(e,a,r),t[e[n]]>t[e[a]]&&nt(e,n,a);const u=e[a],l=t[u];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;nt(e,a,o)}e[n+1]=e[o],e[o]=u,r-a+1>=o-n?(Ye(e,t,a,r),Ye(e,t,n,o-1)):(Ye(e,t,n,o-1),Ye(e,t,a,r))}}function nt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ns(e){return e[0]}function rs(e){return e[1]}const Yr=1e-6;class Ne{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Yr||Math.abs(this._y1-a)>Yr)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class vn{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let is=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let d=0,v=0,m=r.length,p,T;d<m;d+=3,v+=2){const w=r[d]*2,x=r[d+1]*2,C=r[d+2]*2,k=t[w],b=t[w+1],A=t[x],R=t[x+1],B=t[C],N=t[C+1],M=A-k,$=R-b,D=B-k,I=N-b,j=M*M+$*$,P=D*D+I*I,S=(M*I-$*D)*2;if(!S)p=(k+B)/2-1e8*I,T=(b+N)/2+1e8*D;else if(Math.abs(S)<1e-8)p=(k+B)/2,T=(b+N)/2;else{const E=1/S;p=k+(I*j-$*P)*E,T=b+(M*P-D*j)*E}a[v]=p,a[v+1]=T}let o=n[n.length-1],u,l=o*4,c,s=t[2*o],h,f=t[2*o+1];i.fill(0);for(let d=0;d<n.length;++d)o=n[d],u=l,c=s,h=f,l=o*4,s=t[2*o],f=t[2*o+1],i[u+2]=i[l]=h-f,i[u+3]=i[l+1]=s-c}render(t){const n=t==null?t=new Ne:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:u}=this;if(a.length<=1)return null;for(let s=0,h=r.length;s<h;++s){const f=r[s];if(f<s)continue;const d=Math.floor(s/3)*2,v=Math.floor(f/3)*2,m=o[d],p=o[d+1],T=o[v],w=o[v+1];this._renderSegment(m,p,T,w,t)}let l,c=a[a.length-1];for(let s=0;s<a.length;++s){l=c,c=a[s];const h=Math.floor(i[c]/3)*2,f=o[h],d=o[h+1],v=l*4,m=this._project(f,d,u[v+2],u[v+3]);m&&this._renderSegment(f,d,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Ne:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Ne:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new vn;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const u=this._regioncode(t,n),l=this._regioncode(r,i);u===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,u,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let u=0,l=i.length;u<l;u+=2)if(n[a]==i[u]&&n[a+1]==i[u+1]&&n[(a+2)%o]==i[(u+l-2)%l]&&n[(a+3)%o]==i[(u+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const u=[];let l=o;do{const c=Math.floor(l/3);if(u.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return u}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,a,o,u=n[r-2],l=n[r-1],c,s=this._regioncode(u,l),h,f;for(let d=0;d<r;d+=2)if(a=u,o=l,u=n[d],l=n[d+1],c=s,s=this._regioncode(u,l),c===0&&s===0)h=f,f=0,i?i.push(u,l):i=[u,l];else{let v,m,p,T,w;if(c===0){if((v=this._clipSegment(a,o,u,l,c,s))===null)continue;[m,p,T,w]=v}else{if((v=this._clipSegment(u,l,a,o,s,c))===null)continue;[T,w,m,p]=v,h=f,f=this._edgecode(m,p),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(m,p):i=[m,p]}h=f,f=this._edgecode(T,w),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(T,w):i=[T,w]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(t,h,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){for(;;){if(a===0&&o===0)return[t,n,r,i];if(a&o)return null;let u,l,c=a||o;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),a?(t=u,n=l,a=this._regioncode(t,n)):(r=u,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let u=Array.from(n),l;if((l=this._project(u[0],u[1],r,i))&&u.unshift(l[0],l[1]),(l=this._project(u[u.length-2],u[u.length-1],a,o))&&u.push(l[0],l[1]),u=this._clipFinite(t,u))for(let c=0,s=u.length,h,f=this._edgecode(u[s-2],u[s-1]);c<s;c+=2)h=f,f=this._edgecode(u[c],u[c+1]),h&&f&&(c=this._edge(t,h,f,u,c),s=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,r,i,a){for(;n!==r;){let o,u;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,u=this.ymin;break}(i[a]!==o||i[a+1]!==u)&&this.contains(t,o,u)&&(i.splice(a,0,o,u),a+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const u=(o+2)%i.length,l=(o+4)%i.length;(i[o]===i[u]&&i[u]===i[l]||i[o+1]===i[u+1]&&i[u+1]===i[l+1])&&(i.splice(u,2),o-=2)}return a}_project(t,n,r,i){let a=1/0,o,u,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,u=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,u=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(u=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(u=this.xmin,l=n+(a=o)*i)}return[u,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const as=2*Math.PI,Ve=Math.pow;function os(e){return e[0]}function us(e){return e[1]}function ls(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function ss(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Un{static from(t,n=os,r=us,i){return new Un("length"in t?cs(t,n,r,i):Float64Array.from(fs(t,n,r,i)))}constructor(t){this._delaunator=new $t(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&ls(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],s=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],h=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let f=0,d=n.length/2;f<d;++f){const v=ss(n[2*f],n[2*f+1],h);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new $t(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const s=a[l%3===2?l-2:l+1];(r[l]===-1||o[s]===-1)&&(o[s]=l)}for(let l=0,c=i.length;l<c;++l)u[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,i.length===2&&(o[i[1]]=0))}voronoi(t){return new is(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:u}=this;if(u){const h=u.indexOf(t);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const l=n[t];if(l===-1)return;let c=l,s=-1;do{if(yield s=o[c],c=c%3===2?c-2:c+1,o[c]!==t)return;if(c=a[c],c===-1){const h=r[(i[t]+1)%r.length];h!==s&&(yield h);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:u,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let s=t,h=Ve(n-c[t*2],2)+Ve(r-c[t*2+1],2);const f=i[t];let d=f;do{let v=l[d];const m=Ve(n-c[v*2],2)+Ve(r-c[v*2+1],2);if(m<h&&(h=m,s=v),d=d%3===2?d-2:d+1,l[d]!==t)break;if(d=u[d],d===-1){if(d=a[(o[t]+1)%a.length],d!==v&&Ve(n-c[d*2],2)+Ve(r-c[d*2+1],2)<h)return d;break}}while(d!==f);return s}render(t){const n=t==null?t=new Ne:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,u=i.length;o<u;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,s=a[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[s],r[s+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new Ne:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const u=i[a],l=i[a+1];t.moveTo(u+n,l),t.arc(u,l,n,0,as)}return r&&r.value()}renderHull(t){const n=t==null?t=new Ne:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let u=1;u<o;++u){const l=2*r[u];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new vn;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Ne:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,u=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new vn;return this.renderTriangle(t,n),n.value()}}function cs(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const u=e[o];a[o*2]=t.call(r,u,o,e),a[o*2+1]=n.call(r,u,o,e)}return a}function*fs(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function hs(){var e=Me(),t=e.getOptions,n=e.focusedDatumState,r=e.isInteractingState,i=n[1],a=r[0],o=t(),u=o.onFocusDatum,l=o.onClickDatum,c=o.tooltip,s=o.primaryCursor,h=o.secondaryCursor,f=o.showVoronoi,d=o.interactionMode,v=y.useCallback(function(T){var w,x;(w=(x=t()).onFocusDatum)==null||w.call(x,T),i(T)},[t,i]),m=a&&(f||u||l||c||s||h);if(!m)return null;var p={handleFocus:v};return d==="closest"?y.createElement(ms,p):y.createElement(ds,p)}function ds(e){var t=e.handleFocus,n=Me(),r=n.primaryAxis,i=n.secondaryAxes,a=n.getOptions,o=n.gridDimensions,u=n.datumsByInteractionGroup,l=i.length===1&&i[0].stacked,c=i.every(function(s){return s.elementType==="bar"&&!s.stacked});return y.useMemo(function(){var s=Array.from(u.entries()).map(function(f){f[0];var d=f[1];return d}).filter(function(f){var d=f[0];if(d){var v=d.primaryValue;return v!=="undefined"&&v!==null}}).sort(function(f,d){var v=i.find(function(w){return w.id===f[0].secondaryAxisId}),m=i.find(function(w){return w.id===d[0].secondaryAxisId}),p=De(f[0],r,v,c),T=De(d[0],r,m,c);return p-T});r.isVertical&&s.reverse();var h=s.map(function(f,d,v){var m,p=f[0],T=v[d-1],w=v[d+1],x=i.find(function($){return $.id===p.secondaryAxisId}),C=De(p,r,x,c),k=(m=r==null?void 0:r.scale.range())!=null?m:[0,0],b=k[0],A=k[1];if(T){var R=i.find(function($){return $.id===T[0].secondaryAxisId}),B=De(T[0],r,R,c);b=C-(C-B)/2}if(w){var N=i.find(function($){return $.id===w[0].secondaryAxisId}),M=De(w[0],r,N,c);A=C+(M-C)/2}return{primaryStart:b,primaryEnd:A,primaryPx:C,datumBoundaries:f.filter(function($){var D=$.secondaryValue;return typeof D<"u"&&D!==null}).map(function($,D,I){var j,P,S,E=I[D-1],L=I[D+1],O=i.find(function(ye){return ye.id===$.secondaryAxisId});if(l){var G,H,W,Y=(G=O==null?void 0:O.scale.range())!=null?G:[0,0],X=[(H=$.stackData)==null?void 0:H[0],(W=$.stackData)==null?void 0:W[1]];O!=null&&O.isVertical&&(Y.reverse(),X.reverse());var re=Y[0],ae=Y[1];if(E){var K,_;re=(K=O==null?void 0:O.scale((_=X[0])!=null?_:NaN))!=null?K:NaN}if(L){var U,F;ae=(U=O==null?void 0:O.scale((F=X[1])!=null?F:NaN))!=null?U:NaN}return{secondaryStart:re,secondaryEnd:ae,datum:$}}var g=(j=O==null?void 0:O.scale(O.stacked?(P=$.stackData)==null?void 0:P[1]:$.secondaryValue))!=null?j:NaN,q=(S=O==null?void 0:O.scale.range())!=null?S:[0,0];O!=null&&O.isVertical&&q.reverse();var V=q[0],Q=q[1];if(E){var Z,te,se=i.find(function(ye){return ye.id===(E==null?void 0:E.secondaryAxisId)}),Vt=(Z=se==null?void 0:se.scale(se.stacked?(te=E.stackData)==null?void 0:te[1]:E.secondaryValue))!=null?Z:NaN;V=g-(g-Vt)/2}if(L){var ht,dt,qe=i.find(function(ye){return ye.id===(L==null?void 0:L.secondaryAxisId)}),Pt=(ht=qe==null?void 0:qe.scale(qe.stacked?(dt=L.stackData)==null?void 0:dt[1]:L.secondaryValue))!=null?ht:NaN;Q=g+(Pt-g)/2}return{secondaryStart:V,secondaryEnd:Q,datum:$}})}});return y.createElement("g",{onMouseLeave:function(){return t(null)},style:{transform:ze(o.left,o.top)}},h.map(function(f,d){return y.createElement("g",{key:f.primaryPx+"_"+d},f.datumBoundaries.map(function(v,m){var p=r.isVertical?v.secondaryStart:f.primaryStart,T=r.isVertical?v.secondaryEnd:f.primaryEnd,w=r.isVertical?f.primaryStart:v.secondaryStart,x=r.isVertical?f.primaryEnd:v.secondaryEnd,C=Math.min(p,T),k=Math.min(w,x),b=Math.max(p,T),A=Math.max(w,x),R=Math.max(A-k,0),B=Math.max(b-C,0);return y.createElement("rect",{key:m,x:C,y:k,width:B,height:R,className:"action-voronoi",onMouseEnter:function(){return t(v.datum)},style:{fill:a().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:a().dark?"white":"black",opacity:a().showVoronoi?1:0}})}))}))},[u,r,o.left,o.top,i,c,l,t,a])}var gs=_n();function ms(e){var t=e.handleFocus,n=Me(),r=n.primaryAxis,i=n.series,a=n.secondaryAxes,o=n.getOptions,u=n.gridDimensions,l=null,c=[],s=a.every(function(d){return d.elementType==="bar"&&!d.stacked});i.forEach(function(d){d.datums.filter(function(v){var m=v.primaryValue,p=v.secondaryValue;return m!=="undefined"&&m!==null&&p!=="undefined"&&p!==null}).forEach(function(v){var m=a.find(function(w){return w.id===v.secondaryAxisId}),p=vs(v,r,m,s),T=ps(v,r,m,s);typeof p!="number"||typeof T!="number"||Number.isNaN(T)||Number.isNaN(p)||c.push({x:p,y:T,datum:v})})});var h=Un.from(c,function(d){return Math.max(d.x,0)},function(d){return Math.max(d.y,0)}),f=h.voronoi([0,0,u.width,u.height]);return l=f.cellPolygons(),l=Array.from(l),y.createElement("g",{onMouseLeave:function(){return t(null)},style:{transform:ze(u.left,u.top)}},l.map(function(d,v){var m=d.index,p=c[m].datum,T=gs(d)||void 0;return y.createElement("path",{key:v,d:T,className:"action-voronoi",onMouseEnter:function(){return t(p)},style:{fill:o().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:o().dark?"white":"black",opacity:o().showVoronoi?1:0}})}))}function vs(e,t,n,r){return t.isVertical?Li(e,n):De(e,t,n,r)}function ps(e,t,n,r){return t.isVertical?De(e,t,n,r):Li(e,n)}function De(e,t,n,r){var i,a=(i=t.scale(e.primaryValue))!=null?i:NaN;if(r&&n.elementType==="bar")if(n.stacked)a+=Zr(e,t)/2;else{var o;a+=(o=t.seriesBandScale(e.seriesIndex))!=null?o:NaN,a+=xn(e,t,n)/2}return a}function Li(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}var ys=["options","className","style"],xs=["#0f83ab","#faa43a","#fd6868","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"],rt=5;function bs(e){var t,n,r,i,a,o,u,l,c,s,h;return z({},e,{initialWidth:(t=e.initialWidth)!=null?t:300,initialHeight:(n=e.initialHeight)!=null?n:200,getSeriesOrder:(r=e.getSeriesOrder)!=null?r:function(f){return f},interactionMode:(i=e.interactionMode)!=null?i:"primary",showVoronoi:(a=e.showVoronoi)!=null?a:!1,defaultColors:(o=e.defaultColors)!=null?o:xs,useIntersectionObserver:(u=e.useIntersectionObserver)!=null?u:!1,intersectionObserverRootMargin:(l=e.intersectionObserverRootMargin)!=null?l:"1000px",primaryCursor:(c=e.primaryCursor)!=null?c:!0,secondaryCursor:(s=e.secondaryCursor)!=null?s:!0,padding:(h=e.padding)!=null?h:rt})}function Ss(e){var t=e.options,n=e.className,r=e.style,i=r===void 0?{}:r,a=Kr(e,ys),o=bs(t),u=y.useState(null),l=u[0],c=u[1],s=l==null?void 0:l.parentElement,h=y.useMemo(function(){var C=function k(b){if(!b)return null;var A=b.parentElement;if(!A)return null;if(A.scrollHeight>A.clientHeight){var R=window.getComputedStyle(A),B=R.overflow;if(B.includes("scroll")||B.includes("auto"))return A}return k(A)};return C(s)},[s]),f=y.useState({width:o.initialWidth,height:o.initialHeight}),d=f[0],v=d.width,m=d.height,p=f[1];lt(function(){if(s){var C=window.getComputedStyle(s);["relative","absolute","fixed"].includes(C.position)||(s.style.position="relative")}},[s]),y.useEffect(function(){if(s){var C=new ResizeObserver(function(){var k=s==null?void 0:s.getBoundingClientRect(),b=window.getComputedStyle(s);k&&p({width:k.width-parseInt(b.borderLeftWidth)-parseInt(b.borderRightWidth),height:k.height-parseInt(b.borderTopWidth)-parseInt(b.borderBottomWidth)})});return C.observe(s),function(){C.unobserve(s)}}},[s]);var T=y.useState(!0),w=T[0],x=T[1];return y.useEffect(function(){if(!(!s||!o.useIntersectionObserver)){var C=new IntersectionObserver(function(k){for(var b=Ii(k),A;!(A=b()).done;){var R=A.value;R.isIntersecting?x(!0):x(!1)}},{root:h,rootMargin:o.intersectionObserverRootMargin});return C.observe(s),function(){C.unobserve(s)}}},[s,h,o.intersectionObserverRootMargin,o.useIntersectionObserver]),y.createElement("div",z({ref:c},a,{className:"ReactChart "+(n||""),style:z({fontFamily:"sans-serif"},i,{position:"absolute",width:v,height:m})}),o.useIntersectionObserver&&!w?null:y.createElement(Ms,{options:o,width:v,height:m}))}function Ms(e){var t,n,r=e.options,i=e.width,a=e.height;if(!r.primaryAxis)throw new Error("A primaryAxis is required");if(!r.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var o=y.useMemo(function(){var S=Wr(r.primaryAxis,r.data),E=Hr(r.primaryAxis,S);return z({position:"bottom"},E)},[r.data,r.primaryAxis]),u=y.useMemo(function(){return r.secondaryAxes.map(function(S,E){var L=Wr(S,r.data),O=Hr(S,L);return O.elementType||(o.scaleType==="band"?O.elementType="bar":O.stacked&&(O.elementType="area")),typeof O.stacked>"u"&&O.elementType&&["area"].includes(O.elementType)&&(O.stacked=!0),z({position:E?"right":"left"},O)})},[r.data,r.secondaryAxes,o]),l=y.useMemo(function(){var S,E,L=Xl((S=r)==null?void 0:S.tooltip);return L.groupingMode=(E=L.groupingMode)!=null?E:function(){return r.interactionMode==="closest"?"single":"primary"}(),L},[r.interactionMode,(t=r)==null?void 0:t.tooltip]);r=z({},r,{tooltip:l});var c=y.useRef(null),s=Mt(z({},r,{tooltip:l})),h=y.useState({left:{},right:{},top:{},bottom:{}}),f=h[0],d=y.useState(!1),v=d[0],m=y.useState(null),p=m[0],T=y.useMemo(function(){var S,E,L,O,G={left:typeof r.padding=="object"?(S=r.padding.left)!=null?S:rt:r.padding,right:typeof r.padding=="object"?(E=r.padding.right)!=null?E:rt:r.padding,bottom:typeof r.padding=="object"?(L=r.padding.bottom)!=null?L:rt:r.padding,top:typeof r.padding=="object"?(O=r.padding.top)!=null?O:rt:r.padding},H=G.left+Math.max(he(Object.values(f.left),function(K){return K.width}),he(Object.values(f.top),function(K){return K.paddingLeft}),he(Object.values(f.bottom),function(K){return K.paddingLeft})),W=G.top+Math.max(he(Object.values(f.top),function(K){return K.height}),he(Object.values(f.left),function(K){return K.paddingTop}),he(Object.values(f.right),function(K){return K.paddingTop})),Y=G.right+Math.max(he(Object.values(f.right),function(K){return K.width}),he(Object.values(f.top),function(K){return K.paddingRight}),he(Object.values(f.bottom),function(K){return K.paddingRight})),X=G.bottom+Math.max(he(Object.values(f.bottom),function(K){return K.height}),he(Object.values(f.left),function(K){return K.paddingBottom}),he(Object.values(f.right),function(K){return K.paddingBottom})),re=Math.max(0,i-H-Y),ae=Math.max(0,a-W-X);return{left:H,top:W,right:Y,bottom:X,width:re,height:ae}},[r.padding,f.left,f.top,f.bottom,f.right,i,a]),w=y.useMemo(function(){for(var S=[],E={},L=0;L<r.data.length;L++){var O,G,H,W=r.data[L],Y=(O=W.id)!=null?O:L+"",X=(G=W.label)!=null?G:"Series "+(L+1),re=W.secondaryAxisId,ae=W.data,K=[];E[""+re]=(H=E[""+re])!=null?H:0;var _=E[""+re];E[""+re]++;for(var U=0;U<ae.length;U++){var F=ae[U];K[U]={originalSeries:W,seriesIndex:L,seriesIndexPerAxis:_,seriesId:Y,seriesLabel:X,secondaryAxisId:re,index:U,originalDatum:F}}S[L]={originalSeries:W,index:L,id:Y,label:X,indexPerAxis:_,secondaryAxisId:re,datums:K}}return S},[r.data]),x=y.useMemo(function(){return w.map(function(S){return S.datums}).flat(2)},[w]),C=y.useMemo(function(){return Fr(!0,o,w,x,T,i,a)},[x,T,a,o,w,i]),k=y.useMemo(function(){return u.map(function(S){return Fr(!1,S,w,x,T,i,a)})},[x,T,a,u,w,i]),b=y.useMemo(function(){if(!v)return[new Map,new Map];var S=new Map,E=new Map,L=k.every(function(W){return W.elementType==="bar"&&!W.stacked}),O=function(Y){if(L){var X=k.find(function(re){return re.id===Y.secondaryAxisId});if(X.elementType==="bar"&&!X.stacked)return bn(Y,C,X)}return Y.primaryValue},G=function(Y){return""+O(Y)},H=function(Y){return""+Y.primaryValue};return r.interactionMode==="closest"&&(G=function(Y){return O(Y)+"_"+Y.secondaryValue}),l.groupingMode==="single"?H=function(Y){return Y.primaryValue+"_"+Y.secondaryValue}:l.groupingMode==="secondary"?H=function(Y){return""+Y.secondaryValue}:l.groupingMode==="series"&&(H=function(Y){return""+Y.seriesIndex}),x.forEach(function(W){var Y=G(W),X=H(W);S.has(Y)||S.set(Y,[]),E.has(X)||E.set(X,[]),S.get(Y).push(W),E.get(X).push(W)}),S.forEach(function(W,Y){S.set(Y,jr(W,k))}),E.forEach(function(W,Y){E.set(Y,jr(W,k))}),x.forEach(function(W){var Y=G(W),X=H(W);W.interactiveGroup=S.get(Y),W.tooltipGroup=E.get(X)}),[S,E]},[v,x,r.interactionMode,C,k,l.groupingMode]),A=b[0],R=b[1],B=y.useCallback(function(S,E){var L,O,G,H={color:s().defaultColors[S.index%s().defaultColors.length]},W=Ji(S,E),Y=(L=(O=(G=s()).getSeriesStyle)==null?void 0:O.call(G,S,W))!=null?L:{};return S.style=ln(Y,H),S.style},[s]),N=y.useCallback(function(S,E){var L,O,G,H,W=z({},(L=w[S.seriesIndex])==null?void 0:L.style,{color:s().defaultColors[S.seriesIndex%s().defaultColors.length]}),Y=ea(S,E),X=(O=(G=(H=s()).getDatumStyle)==null?void 0:G.call(H,S,Y))!=null?O:{};return S.style=ln(X,W),S.style},[s,w]),M=y.useMemo(function(){var S=[].concat(w).reverse();return s().getSeriesOrder(S)},[s,w]);lt(function(){c.current&&c.current.parentElement&&!c.current.parentElement.style.position&&(c.current.parentElement.style.position="relative")});var $={getOptions:s,gridDimensions:T,primaryAxis:C,secondaryAxes:k,series:w,orderedSeries:M,datumsByInteractionGroup:A,datumsByTooltipGroup:R,width:i,height:a,getSeriesStatusStyle:B,getDatumStatusStyle:N,axisDimensionsState:h,focusedDatumState:m,svgRef:c,isInteractingState:d},D=y.useMemo(function(){return Xi(Ki(M,function(S){return S.secondaryAxisId}),function(S){var E=S[0];return k.findIndex(function(L){return L.id===E})})},[M,k]),I=function(){return{primaryAxis:C,secondaryAxes:k,seriesByAxisId:D}},j=y.useCallback(function(){return{primaryAxis:C,secondaryAxes:k,seriesByAxisId:D}},[C,k,D]);r.memoizeSeries&&(I=j);var P=y.useMemo(function(){var S=I(),E=S.primaryAxis,L=S.secondaryAxes,O=S.seriesByAxisId;return O.map(function(G){var H=G[0],W=G[1],Y=L.find(function(ae){return ae.id===H});if(!Y)return null;var X=Y.elementType,re=function(){if(X==="line"||X==="bubble"||X==="area")return ga;if(X==="bar")return ra;throw new Error("Invalid elementType")}();return E.isInvalid||Y.isInvalid?null:y.createElement(re,{key:H??"__default__",primaryAxis:E,secondaryAxis:Y,series:W})})},[I]);return y.createElement(na,{value:Mt($)},y.createElement("div",null,y.createElement("svg",{ref:c,style:{width:i,height:a,overflow:r.brush?"hidden":"visible"},onClick:function(E){return r.onClickDatum==null?void 0:r.onClickDatum(p,E)},onMouseEnter:function(){d[1](!0)},onMouseLeave:function(){d[1](!1)}},y.createElement("g",{className:"axes"},[C].concat(k).map(function(S){return y.createElement(Fl,z({key:[S.position,S.id].join("")},S))})),y.createElement("g",{className:"Series",style:{pointerEvents:"none"}},P),y.createElement(hs,null),(n=r.renderSVG==null?void 0:r.renderSVG())!=null?n:null),y.createElement(Bl,null),y.createElement(Zl,null)))}function Wr(e,t){var n;return t.some(function(r){return r.data.some(function(i){var a=e.getValue(i);if(a!==null&&typeof a<"u")return n=a,!0})}),n}function Hr(e,t){var n=e.scaleType;if(!e.scaleType)if(typeof t=="number")n="linear";else if(typeof(t==null?void 0:t.getMonth)=="function")n="time";else if(typeof t=="string"||typeof t=="boolean")n="band";else throw new Error("Invalid scale type: Unable to infer type from data");return z({},e,{scaleType:n})}function jr(e,t){if(t.every(function(r){return r.stacked})){var n=t.some(function(r){return r.invert})&&t.some(function(r){return!r.invert});if(!n)return e}return[].concat(e).sort(function(r,i){var a,o,u,l,c=t.find(function(d){return d.id===r.secondaryAxisId}),s=t.find(function(d){return d.id===i.secondaryAxisId}),h=(a=c==null?void 0:c.scale(c.stacked?(o=r.stackData)==null?void 0:o[1]:r.secondaryValue))!=null?a:NaN,f=(u=s==null?void 0:s.scale(s.stacked?(l=i.stackData)==null?void 0:l[1]:i.secondaryValue))!=null?u:NaN;return h>f?1:h<f?-1:0})}export{Ss as C};
